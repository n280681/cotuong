var viewtype,ads_board,isMXQ,ads_dpxq,DhtmlXQimgpath,isBIG5="",PVer="161011",TT=[Number(new Date),0,0,0,0,0],CSS1="CSS1Compat"==document.compatMode?!0:!1;CSS1&&(window.onerror=showalert);
var fz,fzt,w0,h0,p0,lh,aHeight,tWidth,fdbs,hm,wm,MessFunc="",ViewUrl="",ErrNum=0,P90,D400,sMI,pMI,nnum,lnum,move,cnum,P,tree,TongYu=!0,fnum,xqtitle,hits,refer,MoveDIV,VarDIV,cText,sText,sText1,Mscroll,allowLR,isTurn,timer,canauto,isMirror,CSS,pClick,pCid,xmlok,LiveUpMove,LiveMove,LiveMoveLen,LiveID,LiveAdmin,AllowLive,Livetime,Livetimer,AllowAdd,LiveComment,isAddMove,BPos,LiveF5,LiveF5Time,LiveF5Index,LiveF5Title,NoFile="NoFile"==self.name.substr(0,6)||window==top?!0:!1;
try{P=parent.location.href}catch(a){NoFile=!0,TongYu=!1}var B="8979695949392919097717866646260600102030405060708012720323436383",REOK=checkRegExp(),tQZ="\u8f66\u9a6c\u76f8\u4ed5\u5e05\u4ed5\u76f8\u9a6c\u8f66\u70ae\u70ae\u5175\u5175\u5175\u5175\u5175\u8f66\u9a6c\u8c61\u58eb\u5c06\u58eb\u8c61\u9a6c\u8f66\u70ae\u70ae\u5352\u5352\u5352\u5352\u5352",iQZ="r1r2r3r4r5r4r3r2r1r6r6r7r7r7r7r7b1b2b3b4b5b4b3b2b1b6b6b7b7b7b7b7";DhtmlXQimgpath||(DhtmlXQimgpath="");ads_dpxq||(ads_dpxq="");isMXQ||(isMXQ=!1);
ads_board||(ads_board="hoccotuong.net");
var isSP=NoFile?!1:-1!=parent.location.href.search(/\/hldcg\/search(\/?$|\/?\?.*|\/(index|mini)\.asp.*)/gi)?!0:!1,SURL=location.hostname,SURL="http://"+("localhost"==SURL?SURL:"www.dpxq.com")+"/hldcg/search/",UBB=unconv(NoFile?self.name:$P(self.name.substr(5)).innerHTML).replace(/[\r\n]*(\[\/DhtmlXQ_\w+\])[\r\n]*/gi,"$1\r\n").replace(/[\r\n]*(\[DhtmlXQ_\w+\])[\r\n]*/gi,"\r\n$1").match(eval("/\\[(DhtmlXQ_\\w+)\\].+"+REOK+"\\[\\/\\1\\]/gi")),UBB=null==UBB?"[DhtmlXQ_ver]www_dpxq_com"+isBIG5+"[/DhtmlXQ_ver]\r\n[DhtmlXQ_init]500,350[/DhtmlXQ_init]":
UBB.join("\r\n").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&nbsp;/gi," "),NS=getBrowser(),WIN=getWinVer(),ZHCN="zh-cn"==(navigator.systemLanguage||navigator.language).toLowerCase()?1:0,IMGPATH=(isSP?parent.IMGPATH:DhtmlXQimgpath).substr(0,100);""!=IMGPATH&&(IMGPATH=(IMGPATH+"/").replace(/[\/\\]+$/gi,"/"));viewtype||(viewtype=isSP?parent.VIEWTYPE:getvar("viewtype"));
var VIMG="img"==viewtype?1:0,RT=isSP?"\\u00FF-\\uFFFF":"",diyimg=isSP?parent.DIYIMG:getvar("diyimg"),r=new RegExp("^[\\w\\-\\."+RT+"]+(\\/[\\w\\-\\."+RT+"]+)*,[0127](,[01]){4}(,(00|[2-7]\\d)){2}(,\\-?\\d{1,4})*$","gi");VIMG&&-1!=diyimg.search(r)||(diyimg="");
var song=WIN.w9x&&!ZHCN||WIN.other||WIN.w95?!1:!0,imgQiZi=isBIG5||VIMG||WIN.other||WIN.w95||NS.other||!(WIN.wxp||WIN.mobile||ZHCN&&NS.IE)?!0:!1,baseQiZi=8<=NS.IE||3<=NS.Firefox||11<=NS.Opera||NS.Chrome||NS.Safari||NS.WebKit||NS.Gecko||WIN.mobile?!0:!1,wTitle=getFdbs(""==diyimg?2.2:2.99),qzdx,qgdx=parseInt(25*fdbs),qpzb=getQPZB();fz=parseInt(12*fdbs);
isBIG5?fz=[12,12,13,15,15,15,15,15,15,15,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23][fz-12]:(fz=[12,12,14,14,16,16,18,18,18,18,18,18,18,18,26,26,26,26,26,26,26,26,26,26,26][fz-12],18!=fz||song||(fz=16));lh=parseInt(16*fdbs);w0=parseInt(500*fdbs);1==w0%2&&w0--;h0=Math.round(7*w0/10);p0=parseInt(4*fdbs);hm=parseInt(h0/3);wm=Math.round(w0*wTitle/500);240==wTitle&&(wm-=wm%2);
var BGIMG="",BDIMG="",CPIMG="",LNIMG="",CLIMG="",QZIMG=[],rQZ=[],bQZ=[],UWD=0,qznum=0,qzasbg=1,qclimg=0,qpbdxy="",qplnxy="",qpclxy="",qzxy=[0,0,0,0,0,0],bgColor="#9CF",bdColor="#666",blColor="#9DF",brColor="#FFF",qbColor="#666",qpColor="#eed3b3",qgColor="#666",bxColor="#FFF",bsColor="#316ac5",diyclr=isSP?parent.DIYCLR:getvar("diyclr");getCLR();var NOBD="transparent"==qbColor?1:0,CNTW=isBIG5?"zhtw/":"zhcn/",qzimg=iQZ.match(/../g),qztxt=tQZ.split("");VIMG?getIMG():getTXT();
var S='<style type="text/css">',S=S+"html {height:100%;}",S=S+("* {font-size:"+fz+"px;line-height:"+lh+"px;margin:0;padding:0;"+(isBIG5?"font-family:\u7ec6\u660e\u4f53,\u65b0\u7ec6\u660e\u4f53,MingLiU,PMingLiU;":'font-family:\u5b8b\u4f53,\u65b0\u5b8b\u4f53,"MS Song",SimSun,NSimSun;')+"}"),S=S+"a:link,a:active,a:visited {text-decoration:none;color:#000;}",S=S+"a:hover {text-decoration:underline;}",S=S+"body {overflow:hidden;background-color:transparent;height:100%;}",S=S+"textarea {word-wrap:break-word;resize:none;padding-left:1px;}",
S=S+"textarea:focus,input:focus,select:focus {outline:none;}",S=S+("#divs,#divsave {position:absolute;left:0;top:0;text-align:left;width:100%;height:100%;"+bgColor+BGIMG+"}"),S=S+("#m_text div,#v_text div {white-space:nowrap;overflow:hidden;line-height:"+(lh-(0<NS.IE&&9>NS.IE?2:1))+"px;padding-top:"+(0<NS.IE&&9>NS.IE?2:1)+"px;cursor:default;"+(WIN.mobile?"font-family:monospace;":";")+"}");CSS1&&0==NS.IE&&(S+="#v_text a {line-height:"+(lh-1)+"px;}");
S+="#div19 div {position:absolute;overflow:hidden;"+qgColor+"font-size:1px;line-height:1px;}";S+="#treetxt input {height:"+lh+"px;width:"+(lh+1)+"px;}";S+="#addred a {color:#f00;}";S+="</style>";
document.write(S+'<div id="message" style="position:absolute;left:'+wm/10+"px;top:"+hm+"px;width:"+.8*wm+'px;border:2px solid #0f0;background-color:#f4fcf3;"><div style="margin:2px;color:#00f;text-align:center;height:'+(hm-lh-lh)+"px;width:"+(.8*wm-4)+'px;overflow:hidden;" id="messdiv">Loading ......<br>www.bigkool.net '+PVer+'</div><div style="margin-bottom:'+fz/2+'px;text-align:center;width:100%;"><button style="width:'+5*fz+'px;padding-top:2px;margin-right:20%;" onclick="clickYES()">Ok</button><button style="width:'+
5*fz+'px;padding-top:2px;" onclick="clickNO()">Cancel</button></div></div><div id="divs" style="overflow:hidden;"></div><div id="divsave" style="display:none;overflow:auto;"></div>');function $(a){return document.getElementById(a)}function $P(a){return parent.document.getElementById(a)}
function getInfo(){var a="Time:"+(TT[1]-TT[0])+"ms "+(TT[3]-TT[2])+"ms "+(TT[5]-TT[4])+"ms\n",b=(""+(fdbs-0+.001)).substr(0,4),a=a+("Version:"+PVer+"\n"),a=a+("show:"+(VIMG?"graphic":"text")+"\n"),a=a+("multiple"+b+" "+(350==wTitle?"No comment change":240==wTitle?"Only basic board":"")+"\n");var c=wTitle;var d=Math.round(b*wTitle);c=240==c?Math.round(35*d/24):350==c?Math.round(d):Math.round(7*d/10);a=a+("\u5bbd\u5ea6:"+d+"px\n")+("\u9ad8\u5ea6:"+c+"px\n")+("\u6587\u5b57:"+fz+"px\n");a+="\u68cb\u683c:"+
qgdx+"px\n";a+="\u68cb\u5b50:"+qzdx+"px "+(imgQiZi?qznum+"\u56fe\u5f62":baseQiZi?"dataURL":UWD?"WebDings":"\u5b8b\u4f53")+"\u68cb\u5b50\n";a+="\u7cfb\u7edf:"+(WIN.w95?"Win95":WIN.w9x?"Win9X":WIN.w2000?"Win2000":1==WIN.wxp?"WinXP":WIN.wxp?"WinXP+":WIN.mobile?"Mobile":"other")+"\n";a+="\u8bed\u8a00:"+(ZHCN?"":"\u975e")+"\u7b80\u4f53\u4e2d\u6587\n";a+="\u6d4f\u89c8:"+(NS.IE?"IE "+NS.IE:NS.Firefox?"Firefox "+NS.Firefox:NS.Chrome?"Chrome "+NS.Chrome:NS.Safari?"Safari "+NS.Safari:NS.Opera?"Opera "+NS.Opera:
NS.WebKit?"WebKit "+NS.WebKit:NS.Gecko?"Gecko "+NS.Gecko:"other")+"\n";a+="\u6a21\u5f0f:"+(CSS1?"CSS1Compat":"BackCompat")+"\n";a+="\u4ee3\u7801:"+(""==DhtmlXQimgpath?"\u540cHTML\u6587\u4ef6":DhtmlXQimgpath)+"\n";if(imgQiZi)if(a+="\u56fe\u7247:"+(""==IMGPATH?"\u540cHTML\u6587\u4ef6":IMGPATH)+"\n",a+="\u524d\u7f00:"+CNTW+"\n",VIMG&&(a+="\u80cc\u666f:"+BGIMG.split("(")[1].split(")")[0]+"\n",a+="\u6ce8\u89e3:"+CPIMG.split("(")[1].split(")")[0]+"\n",a+="\u68cb\u76d8:"+BDIMG.split("(")[1].split(")")[0]+
"\n",qpbdxy&&(a+="\u504f\u79fb:"+qpbdxy.split(":")[1].split(";")[0]+"\n"),a+="\u683c\u7ebf:"+LNIMG.split("(")[1].split(")")[0]+"\n",qplnxy&&(a+="\u504f\u79fb:"+qplnxy.split(":")[1].split(";")[0]+"\n"),CLIMG&&(a+="\u70b9\u51fb:"+CLIMG.split("(")[1].split(")")[0]+"\n",qpclxy&&(a+="\u504f\u79fb:"+qpclxy.split(":")[1].split(";")[0]+"\n"))),7==qznum){d=[0,1,2,3,4,9,11];for(c=1;8>c;c++)a+="\u7ea2"+tQZ.charAt(d[c-1])+":"+QZIMG[c]+"\n";for(c=11;18>c;c++)a+="\u9ed1"+tQZ.charAt(16+d[c-11])+":"+QZIMG[c]+"\n"}else 2==
qznum?(a+="\u7ea2\u65b9:"+QZIMG[0]+"\n",a+="\u9ed1\u65b9:"+QZIMG[1]+"\n",""==diyimg&&(a+="\u7ea2\u5706:"+QZIMG[2]+"\n",a+="\u9ed1\u5706:"+QZIMG[3]+"\n")):a+="\u68cb\u5b50:"+QZIMG[0]+"\n";if("1.00"!=b||500!=wTitle)a+="[DhtmlXQ_zoom]"+b+"."+wTitle+"[/DhtmlXQ_zoom]\n";VIMG&&(a+="[DhtmlXQ_viewtype]img[/DhtmlXQ_viewtype]\n");b=UBB.match(eval("/\\[(DhtmlXQ_diy"+(VIMG?"\\w+":"clr")+")\\].+"+REOK+"\\[\\/\\1\\]/gi"));null!=b&&(a+=b.join("\n"));cText.value=a;sText1.value=a;500!=wTitle&&copycode(cText)}
function getCLR(){var a=(diyclr+",,,,,,,,,").split(",");r=/^(#([\dA-F]{3}){1,2}|[A-Z]{3,})$/gi;-1!=a[0].search(r)&&(bgColor=a[0]);-1!=a[1].search(r)&&(bdColor=a[1]);-1!=a[2].search(r)&&(blColor=a[2]);-1!=a[3].search(r)&&(brColor=a[3]);-1!=a[4].search(r)&&(qbColor=a[4]);-1!=a[5].search(r)&&(qpColor=a[5]);-1!=a[6].search(r)&&(qgColor=a[6]);-1!=a[7].search(r)&&(bxColor=a[7]);-1!=a[8].search(r)&&(bsColor=a[8]);a="background-color:";bgColor=a+bgColor+";";bdColor=a+bdColor+";";blColor=a+blColor+";";brColor=
a+brColor+";";qbColor=a+qbColor+";";qpColor=a+qpColor+";";qgColor=a+qgColor+";";bxColor=a+bxColor+";"}
function getIMG(){""!=diyimg&&(P=(diyimg+",0,0,0,0,0,0,0,0,0,0,0,0").split(","),diyimg=P[0],qznum=P[1]-0,qzasbg=P[2]-0,qclimg=P[3]-0,0==P[4]&&(qpzb=[["",""],["",""],["",""],["",""]]),0==P[5]&&(ads_board=""),"00"!=P[6]&&(qzdx=P[6]-0),"00"!=P[7]&&(qgdx=P[7]-0),qpbdxy="background-position:"+P[8]+"px "+P[9]+"px;",qplnxy="background-position:"+P[10]+"px "+P[11]+"px;",qpclxy="background-position:"+P[12]+"px "+P[13]+"px;",qzxy=[P[14]-0,P[15]-0,P[16]-0,P[17]-0,P[18]-0,P[19]-0],CNTW=(diyimg+"/").replace(/_\/$/gi,
"_"));25>qgdx&&(qgdx=25);75<qgdx&&(qgdx=75);""==diyimg&&(55<qgdx&&(qgdx=55),0==qgdx%2&&qgdx--,qzdx=qgdx-1);qzdx>qgdx&&(qzdx=qgdx);P=((isSP?parent.DIYURL:""==diyimg?"":getvar("diyurl"))+",,,,,,,,,,,,,,,,,,").split(",");var a,b=new RegExp("^[\\w\\-\\."+RT+"]+(\\/[\\w\\-\\."+RT+"]+)*\\.(gif|png|jpg|bmp)$","gi");for(a=0;a<P.length;a++)-1!=P[a].search(b)?P[a]=IMGPATH+CNTW+P[a]:P[a]="";BGIMG=""!=P[0]?"background-image:url("+P[0]+");":"background-image:url("+IMGPATH+CNTW+"bg_00.gif);";CPIMG=""!=P[1]?"background-image:url("+
P[1]+");":"background-image:url("+IMGPATH+CNTW+"cp_00.gif);";BDIMG=""!=P[2]?"background-image:url("+P[2]+");"+qpbdxy:"background-image:url("+IMGPATH+CNTW+"bd_"+qgdx+".gif);"+qpbdxy;LNIMG=""!=P[3]?"background-image:url("+P[3]+");"+qplnxy:"background-image:url("+IMGPATH+CNTW+"ln_"+qgdx+".gif);"+qplnxy;CLIMG=""!=P[4]?"background-image:url("+P[4]+");"+qpclxy:"background-image:url("+IMGPATH+CNTW+"cl_"+qgdx+".png);"+qpclxy;CPIMG+="background-attachment:fixed;";LNIMG+="background-repeat:no-repeat;";CLIMG+=
"background-repeat:no-repeat;";0==qclimg&&(CLIMG="");b=isSP?parent.DIYIQZ:""==diyimg?"":getvar("diyiqz");0==qznum&&(qznum=1==fdbs?7:2);if(7==qznum)for(a=5;19>a;a++)QZIMG[a-(12>a?4:1)]=""!=P[a]?P[a]:IMGPATH+CNTW+(12>a?"r"+(a-4):"b"+(a-11))+"_"+qzdx+".gif";else 2==qznum?(""==diyimg?(a=parseInt(16*fdbs),a+=a%2):(a=qzdx,-1!=b.search(/^([rb][1-7]){32}$/gi)&&(qzimg=b.match(/../g))),QZIMG[0]=""!=P[5]?P[5]:IMGPATH+CNTW+"r8_"+a+".gif",QZIMG[1]=""!=P[6]?P[6]:IMGPATH+CNTW+"b8_"+a+".gif",QZIMG[2]=""!=P[7]?P[7]:
IMGPATH+CNTW+"r0_"+qgdx+".gif",QZIMG[3]=""!=P[8]?P[8]:IMGPATH+CNTW+"b0_"+qgdx+".gif"):(QZIMG[0]=""!=P[5]?P[5]:IMGPATH+CNTW+"rb_"+qzdx+".png",iQZ=-1!=b.search(/^(0[1-9]|1[0-4]){32}$/gi)?b:"0102030405040302010606070707070708091011121110090813131414141414",qzimg=iQZ.match(/../g))}
function getTXT(){IMGPATH=DhtmlXQimgpath;55<qgdx&&(qgdx=55);25>qgdx&&(qgdx=25);0==qgdx%2&&qgdx--;qzdx=qgdx-1;qznum=1==fdbs?7:2;if(imgQiZi)if(7==qznum)for(var a=1;18>a;a++)QZIMG[a]=IMGPATH+CNTW+(11>a?"r":"b")+a%10+"_"+qzdx+".gif";else a=parseInt(16*fdbs),a+=a%2,QZIMG[0]=IMGPATH+CNTW+"r8_"+a+".gif",QZIMG[1]=IMGPATH+CNTW+"b8_"+a+".gif",QZIMG[2]=IMGPATH+CNTW+"r0_"+qgdx+".gif",QZIMG[3]=IMGPATH+CNTW+"b0_"+qgdx+".gif"}
function getFdbs(a){var b=isSP?(""+(parent.ZOOM+.001)).substr(0,4)+".500":getvar("zoom");if(-1!=b.search(/^[12]\.\d\d\.(50|35|24)0$/gi))return fdbs=b.substr(0,4)-0,fdbs>a&&(fdbs=a),b.substr(5)-0;b=getvar("init");fdbs=1;if(-1==b.search(/^\d+,\d+$/gi))return 500;var b=b.split(","),c=b[1]-0,b=b[0]-0;350<c&&(c==Math.round(b)?(fdbs=c/350,b=350):c==Math.round(7*b/10)?(fdbs=c/350,b=500):c==Math.round(35*b/24)&&(fdbs=c/350,b=240),fdbs>a&&(fdbs=a));1==fdbs&&(b=350>b?240:500>b?350:500);return b}
function getQPZB(){var a=[];a[4]="987654321";a[5]="123456789";a[6]=a[4].split("").reverse().join("");a[7]=a[5].split("").reverse().join("");a[0]=[a[4],a[5]];a[1]=[a[6],a[7]];a[2]=[a[7],a[6]];a[3]=[a[5],a[4]];return a}
function showalert(a,b,c,d){MessFunc="";d=a.split("|");1<d.length&&(a=d[0],MessFunc=d[1]);if(b){ErrNum++;if(1<ErrNum)return!1;a="\u9519\u8bef:"+a+" \u884c\u53f7:"+c+"<br><nobr>\u7f51\u5740:"+b+'</nobr><br>\u8bf7\u6309Ctrl+F5\u5237\u65b0,\u5237\u65b0\u65e0\u6548\u8bf7\u62a5\u9519: <nobr><a target="_blank" href="tencent://message/?uin=88081492&Site=DhtmlXQ.'+location.hostname+'&Menu=yes"><img border="0" SRC="http://wpa.qq.com/pa?p=1:88081492:16" alt="\u70b9\u51fb\u8fd9\u91cc\u53d1\u6d88\u606f" /></a> <a target="_blank" href="http://amos.im.alisoft.com/msg.aw?v=2&uid=hldcg&site=cntaobao&s=1&charset=utf-8" ><img border="0" src="http://amos.im.alisoft.com/online.aw?v=2&uid=hldcg&site=cntaobao&s=1&charset=utf-8" alt="\u70b9\u51fb\u8fd9\u91cc\u53d1\u6d88\u606f" /></a></nobr>'}$("messdiv").innerHTML=
a;$("messdiv").style.width=.8*wm-4+"px";$("message").style.zIndex=3;$("message").style.display="";return!0}function Ch40(a){return 1<WIN.wxp&&40<=NS.Chrome?a.replace(/&nbsp;/gi,"&ensp;"):a}function clickYES(){eval(MessFunc);MessFunc="";clickNO()}function clickNO(){$("messdiv").style.width="0px";$("message").style.zIndex=-1}function Xnc_KEvent(a){allowLR&&(39==a?gotonum("Next"):37==a&&gotonum("Prev"))}function checkRegExp(){var a="";try{a=RegExp(".+?","gi"),a="?"}catch(b){}return a}
function getvar(a){a=eval("/\\[(DhtmlXQ_"+a+")\\](.*"+REOK+")\\[\\/\\1\\]/gi");var b=UBB.match(a);return null==b?"":b[0].replace(a,"$2").replace(/\|\|/gi,"\r\n")}function ls(a,b){var c,d="",e=qgdx;for(c=-e;c<e;c++)d+='<div style="width:1px;height:1px;left:'+(a+c)+"px;top:"+(b+c)+'px;"></div><div style="width:1px;height:1px;left:'+(a+c)+"px;top:"+(b-c)+'px;"></div>';return d}
function lz(a,b,c){var d="";2!=c&&(d+=ld(a-2-5,b-2-5,0,0,5)+ld(a-2-5,b+2,1,0,5));3!=c&&(d+=ld(a+2,b-2-5,0,1,5)+ld(a+2,b+2,1,1,5));return d}function ld(a,b,c,d,e){return'<div style="left:'+a+"px;top:"+b+"px;width:"+(e+1)+"px;height:"+(e+1)+'px;"><div style="width:'+e+"px;height:"+e+"px;top:"+c+"px;left:"+d+"px;"+qpColor+'"></div></div>'}
function getBrowser(){var a,b=navigator.userAgent.toLowerCase(),c=0,d=0,e=0,g=0,h=0,k=0,l=0,q=0;(a=b.match(/msie (\d+(\.\d+)?)/))?c=a[1]-0:(a=b.match(/firefox\/(\d+(\.\d+)?)/))?d=a[1]-0:(a=b.match(/chrome\/(\d+(\.\d+)?)/))?e=a[1]-0:(a=b.match(/opera.(\d+(\.\d+)?)/))?g=0==a[1]-9.8?(a=b.match(/version.(\d+(\.\d+)?)/))?a[1]-0:9.8:a[1]-0:b.match(/safari/)?h=1:b.match(/webkit/)?k=1:b.match(/gecko/)?l=1:q=1;return{IE:c,Firefox:d,Chrome:e,Safari:h,Opera:g,WebKit:k,Gecko:l,other:q}}
function getWinVer(){var a=navigator.userAgent,b=0,c=0,d=0,e=0,g=0,h=0;0<=a.search(/Win(dows)? ?(95|NT 4)/gi)?b=1:0<=a.search(/Win(dows)? ?(98|me|9x)/gi)?c=1:0<=a.search(/Win(dows)? ?(NT 5\.0|2000)/gi)?d=1:0<=a.search(/Win(dows)? ?(NT 5|XP|2003)/gi)?e=1:0<=a.search(/Win(dows)? ?(NT \d)/gi)?e=2:0<=a.search(/(Phone|iP[oa]d|Android|ios|mobile)/gi)?g=1:0<=navigator.platform.search(/Win(dows)?/gi)?e=3:h=1;return{w95:b,w9x:c,w2000:d,wxp:e,mobile:g,other:h}}
function cDIV(a,b,c,d,e,g,h,k){""!==a&&(a="left:"+a+"px;");""!==b&&(b="top:"+b+"px;");""!==c&&(c="width:"+c+"px;");""!==d&&(d="height:"+d+"px;");""!==e&&(e="position:"+(0==e?"absolute;":"relative;"));return'<div style="'+e+a+b+c+d+g+'" '+h+">"+("head"==k?"":k+"</div>")}
function dataURLQZ(){var a="gAAAACH5BAEAAAAALAAAAAA2ADYAAAT0EMhJaw1ikGK6KcQgBFZpnuUxeGzLDgcqywLn3m4hzPyE2LhgS9dDJRTC5E2RKFoOQKXUE3NKFtNsi2FlaL8ebs8LLotl2LL6bDqo34ZqKRGFawvNEtKuVpQQfHAIFnWBdxUChnA7E4WKWQUTbo9vVSuUagMSmHAAAZxvGKBqGaNlGqZgG6lfjqyvsLGyZa6zHiC2QiG5QSK8OCO/NyTCLhKXxQaaAJPJcrWxkROJxYyNwtIU1LzWFHu2fnO8eSm2gyhksGwn6anr6KzvaKbyM1Cc51YSR49M+hY/+BD5Z6KGmoEEUajQAiOhEwwaooAQQeJfBAA7";rQZ[55]="R0lGODlhNgA2AOMAAOzStPS2nPSahPR+bPRyZPQ+NPwCBPSqjPSijOy+pPRmVPSSfPSKdAAAAICA"+a;bQZ[55]="R0lGODlhNgA2AOMAAOzStMy2nKyahIx+bHxyZEQ+NAQCBLyqjLSijNS+pHRmVKSSfJyKdAAAAICA"+
a;for(a=29;55>a;a+=2)rQZ[a]=rQZ[55],bQZ[a]=bQZ[55];a="AICAgCH5BAEAAAAALAAAAAAwADAAAATcEMhJqwxskGK6OcQgIFZpnkCQcF7rGoUSoHQVDG+eD3ONJrpgTuErIRbCpKtAKkoaB6W0xXAyplhPtXbNerenrvd7QkTH3kPTgkSPCyWgG02kBObzngSHRw8md31uPXKCY3Ushl5wgYpjCAKOaAJ8klkall4bmVmJnJ+goaKCnqMvBQSmQSGqOiKtOSOwLySlrXAACrMedY2zepWtf4C7ehKFpnUVbaO4FmamaxZioGAm1JnWYZ/aKAxnjt00R4pMThXIbsrndsGXxuw2K1Mx8PEmAZSbHiAi0j4RAAA7";rQZ[27]="R0lGODlhMAAwAOMAAOzStOzGpPSijPSKdPRyZPRWTPwCBPQ+NOy+pPSahPSSfPRmVPSqjPSylAAA"+a;bQZ[27]="R0lGODlhMAAwAOMAAOzStNzGpLSijJyKdHxyZFxWTAQCBEQ+NNS+pKyahKSSfHRmVLyqjMSylAAA"+
a;a="AAAAACH5BAEAAAAALAAAAAAkACQAAASUEMhJZRCDlF3IMEEljtSBcGiKHGQLJGcqo0jiVsqsp8otabvghnADCoVEkvGIHOWY0B4lAa0WbJOY9YiYHLZVFkALFnYD5eolDcWwmZn3cSmv2+/4Kj3fGfBTH38oIIIcIWR5XQBfggJZf4oSVHxYE093AyN7aUmadZ1Kb6Atl1uZPpKIZpWoEiZcjq0jF3EcHiA+EQA7";rQZ[25]="R0lGODlhJAAkAOMAAOzStOy+pPSijPR+bPRmVPwCBPSahPSqjPRWTPSylPSKdAAAAICAgAAAAAAA"+a;bQZ[25]="R0lGODlhJAAkAOMAAOzStNS+pLSijIx+bHRmVAQCBKyahLyqjFxWTMSylJyKdAAAAICAgAAAAAAA"+a;rQZ[16]="R0lGODlhdgAQAIAAAPwCBPz+/CH5BAEAAAAALAAAAAB2ABAAAAL9hB+nluvaQHwM2jWnxKg/DQXg9THieXIVgjZZBGaqt63em37t7lK2LbuxSLRa0ZhI8oxM33HW1MCIvV9z0+OJkFhV0HkZfa1aZnVLylam62Hsp0WnS0fp0IRaKePdPjdZsxNI5TNWZBcGaLb2xqEG1AU4VQVHEZeDsxT4qKdI1OY36UKpODZCB1XYxjl49cY5SdPSWglmdUsnGZJH+1TKBQp8czlLnLdXNlqrd/saHNsHjYjrIGZLa8qcCiz66yds8okqnnsY1iyk3erp2fFSDWZd6L2YjrxE+dnuiiR2ivtP1qFZvVSdkuKvWDhL/+RdAxckYLWG25zsgwegAAA7";
bQZ[16]="R0lGODlhdgAQAIAAAAQCBPz+/CH5BAEAAAAALAAAAAB2ABAAAAL0hB+nluva2IMvLhst2rI6PXUeEJSmeUFnmX4Thqxi1oJkuObsjbc8R3GNOrDZTZdIIk/DpubJWNKEH9rOKEnWgsCRrdg9/sDfF0lJ5LJADbCIWg5Do8iYlKn9vcVtWZu71xW3N8fjNugz9pfFt7Eoxnhx9yZFqBgWSHmm1me0OPVoRhViGBOlh5qpWDl1hvIH0yqa2OPaeYWZSpfn0zqHqHK3ZqtTerpZCEjxqRZptStcSyuKhqw5CujLAduMTaprI5ThO+x9vTmWzgb+Pa1rCpscmqunHYnJq/wNPLReJhwKyrgKOdi1yxVulj5VCtfRU0ivAAA7";rQZ[18]="R0lGODlhhAASAIAAAPwCBPz+/CH5BAEAAAAALAAAAACEABIAAAL+hI95oZ3sIoxt0ndrto7jy4Xbtygi4llqRwWuR6LG9Na1jGvAWca7/+vNcqFbx4a8wXy8JIM3ZJIgqwUyKsxkdTmsNwiOVrtisTP8DIOhZOEyJU2qqW14kL4up5sPp4v7ZlI39UFjd1eGmPjEqLTFFkNDBqnyt3OF2HiGx9lDt1ciOSnhZzlHiAaKk6bW2qmYiSUp+qj19VjK+qPqOVi42OsWWksEwmKLt0s8tqX4CrvmOJRr0/Jr7CyLyXz7mpycV2yLQv2ySx0re90tmK38DWvq2iZxrAUeHswu5R6u295MXj0uI059AWeH1rx1/4bNWHIJG8BjCqNVQ3PpTD4gX5DeQWwG5JYJbhUR3hM5D8amcSxDShz30R7Mlq0yFAAAOw==";
bQZ[18]="R0lGODlhhAASAIAAAAQCBPz+/CH5BAEAAAAALAAAAACEABIAAAL+hI95oZ3sIoxt0ndr3lZ1jXyW6HxLiHnoCaabYUJTQNf2+Ny0y/NdvIIFTQBcSIfcEYNCFrOpKjGR0OLx1kxipRTSc6bdVZ8omROKY/zOVrKL6GWr1XK2/WS2zlZ0+rC3hMY1FSX418Ji5qeXMleEtffVdTi25hOGFwYpFJfIuBfJiVeiWXcIJDFY2AaTJ8oK6hQ7pvpVSjIS2kNYZWTImAWYAffSlgtsufo2p8UKawNby9E4HPyYJebmjKGk6pvMrCkmDh3e7Hr9uUs7Gn02C6YdKM3OJROJTuxN6b6ofHdB37Rt2cD4k9SLn6uDr/5VQwQCX0FnecjlU2EkWRkbegE5HtG2DeCkO2tiUBFYLFXKkA9TzoM4MGUBADs="}
function initboard(){TT[2]=Number(new Date);var a=parseInt(2*fdbs),b=Math.round(48*w0/100)-2*p0;1==b%2&&b--;var c=parseInt(.84*h0);1==c%2&&c--;1==fdbs&&(c=293);var d=p0,e=parseInt((h0-c)/2),g=parseInt(3*fdbs),h=parseInt(3*fdbs);parseInt(5*fdbs);parseInt(2*fdbs);var k=h0-p0-p0-b-a,l=parseInt(18*fdbs)+4;37<l&&(l=37);var q=parseInt(2*fdbs)-1,n=h0-l-e-Math.max(Math.floor((e-l)/2),p0),t=Math.max(Math.round((c-16*lh-2)/2),lh+4),m;var f=25>=qgdx?[16,20,32,40]:27>=qgdx?[16,20,34,41]:29>=qgdx?[18,23,38,44]:
31>=qgdx?[18,23,40,47]:33>=qgdx?[26,31,42,49]:35>=qgdx?[26,31,44,51]:37>=qgdx?[26,31,48,56]:39>=qgdx?[26,31,50,58]:41>=qgdx?[28,33,54,63]:43>=qgdx?[28,33,56,65]:45>=qgdx?[28,33,58,67]:47>=qgdx?[30,35,60,69]:49>=qgdx?[32,39,64,74]:51>=qgdx?[34,40,66,76]:53>=qgdx?[34,40,68,78]:[36,42,70,81];fzt=f[0];var A=f[1];var C=f[2];f=f[3];song||18!=fzt||(fzt=16,A=20);if(3<=NS.Firefox||NS.Gecko){var z="1221222222222222";var D="3332332322333433"}else 2<=NS.Firefox?(z="2221222222222222",D="3221222322332324"):NS.Opera?
(z="2222222222222222",D="3333333433344444",!ZHCN&&WIN.wxp&&(z="1211222212222222",D="2210111101111112")):NS.Safari||NS.Chrome||NS.WebKit?(z="2222222222222222",D="3232233333334444"):(z="1111111111111111",D="1121111111111111");qzimg[32]='<div style="position:absolute;top:0;left:0;width:'+(qgdx-(qgdx-qzdx)%2)+"px;height:"+(qgdx-(qgdx-qzdx)%2)+"px;"+(""==CLIMG?"background-color:#0F0;":CLIMG)+'"></div>';qztxt[32]=qzimg[32];if(imgQiZi){var w='<div style="position:absolute;top:'+parseInt((qgdx-qzdx)/2)+"px;left:"+
parseInt((qgdx-qzdx)/2)+"px;width:"+qzdx+"px;height:"+qzdx+"px;";var p=parseInt(16*fdbs);p+=p%2}else NS.IE&&($("messdiv").innerHTML+='<div id="webdings" style="font-family:WebDings;font-size:12px;line-height:14px;">n</div>',UWD=0<$("webdings").scrollHeight-14&&(7<=NS.IE||30<qgdx||!window.screen.fontSmoothingEnabled)?1:0);for(m=0;32>m;m++)if(imgQiZi)if(7==qznum){var y=QZIMG[qzimg[m].replace("r","0").replace("b","1")-0];6!=NS.IE&&5.5!=NS.IE||-1==y.search(/\.png$/gi)?qzimg[m]=w+"background-image:url("+
y+");background-position:"+qzxy[0]+"px "+qzxy[1]+'px;"></div>':qzimg[m]=w+'"><div style="position:absolute;width:'+qzdx+"px;height:"+qzdx+'px;top:0;left:0;overflow:hidden;"><div style="position:absolute;width:'+(qzdx-qzxy[0])+"px;height:"+(qzdx-qzxy[1])+"px;top:"+qzxy[1]+"px;left:"+qzxy[0]+"px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+y+"',sizingMethod='crop');\"></div></div></div>"}else if(2==qznum&&""==diyimg)qzimg[m]=w+"background-image:url("+QZIMG[16>m?2:3]+');"><div style="position:absolute;width:'+
p+"px;height:"+p+"px;top:"+(qzdx-p)/2+"px;left:"+(qzdx-p)/2+"px;background-image:url("+QZIMG[16>m?0:1]+");background-position:-"+(qzimg[m].charAt(1)-1)*(p+1)+'px 0px;"></div></div>';else{if(2==qznum){y=QZIMG[16>m?0:1];var E=qzxy[16>m?0:3]-(qzimg[m].charAt(1)-1)*(qzdx+qzxy[16>m?2:5]);var H=qzxy[16>m?1:4];var u=7*(qzdx+qzxy[16>m?2:5])-H}else y=QZIMG[0],E=qzxy[0]-(qzimg[m]-1)*(qzdx+qzxy[2]),H=qzxy[1],u=14*(qzdx+qzxy[2])-H;6!=NS.IE&&5.5!=NS.IE||-1==y.search(/\.png$/gi)?qzimg[m]=w+'"><div style="position:absolute;width:'+
qzdx+"px;height:"+qzdx+"px;top:0;left:0;background-image:url("+y+");background-position:"+E+"px "+H+'px;"></div></div>':qzimg[m]=w+'"><div style="position:absolute;width:'+qzdx+"px;height:"+qzdx+'px;top:0;left:0;overflow:hidden;"><div style="position:absolute;width:'+u+"px;height:"+(qzdx-H)+"px;top:"+H+"px;left:"+E+"px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+y+"',sizingMethod='crop');\"></div></div></div>"}else baseQiZi&&dataURLQZ(),w=D.charAt((qgdx-25)/2)-0,y=z.charAt((qgdx-
25)/2)-0,w=baseQiZi?'<div style="position:absolute;top:0px;left:0px;width:'+(qgdx-1)+"px;height:"+(qgdx-1)+'px;"><img style="width:'+(qgdx-1)+"px;height:"+(qgdx-1)+'px;" src="data:image/gif;base64,'+(16>m?rQZ[qgdx]:bQZ[qgdx])+'" /></div>':UWD?'<div style="left:0px;top:'+(0<" 29 31 35 39 45 49 55".indexOf(""+qgdx)?-1:0)+"px;width:"+(qgdx-1)+"px;height:"+(qgdx-1)+"px;position:absolute;font-size:"+(qgdx-1)+"px;line-height:"+qgdx+"px;color:#"+(16>m?"f":"0")+'00;font-family:WebDings;">n</div>':'<div style="left:'+
(qgdx-1-C)/2+"px;top:"+((qgdx-1-C)/2-w)+"px;width:"+C+"px;position:absolute;font-size:"+C+"px;line-height:"+f+"px;color:#"+(16>m?"f":"0")+'00;">\u25cf</div>',w=!baseQiZi||16!=fzt&&18!=fzt?w+('<div style="top:'+((qgdx-1-fzt)/2-("\u5175"==qztxt[m]&&26<=fzt?1:0)-y)+"px;left:0px;width:"+(qgdx-1)+"px;text-align:center;position:absolute;color:#fff;font-size:"+fzt+"px;line-height:"+A+'px;" class="'+(16>m?"r":"b")+'t">'+qztxt[m]+"</div>"):w+('<div style="position:absolute;width:'+fzt+"px;height:"+fzt+"px;top:"+
(qgdx-1-fzt)/2+"px;left:"+(qgdx-1-fzt)/2+'px;overflow:hidden;" /><img style="position:absolute;left:-'+(qzimg[m].charAt(1)-1)*(fzt+1)+'px;" src="data:image/gif;base64,'+(16>m?rQZ[fzt]:bQZ[fzt])+'" /></div>'),qztxt[m]=w;tWidth=wm-2*p0;aHeight=h0;C=$("divs");if(NoFile&&!TongYu||isSP)aHeight=Math.max(h0,parseInt(C.clientHeight));else{f=!1;if(NoFile&&TongYu){if(1!=fdbs||500!=wTitle)f=parent.document.getElementsByName(self.name)[0]}else f=$P("id_"+self.name.substr(5));f&&(f.style.width=w0+"px",aHeight=
Math.max(h0,parseInt(C.clientHeight)),aHeight<h0+6+2*lh?aHeight=h0:aHeight<w0&&(aHeight=h0+6+2*lh),f.style.height=aHeight+"px",f.style.width=wm+"px")}A=(b-8*qgdx)/2;w=(c-9*qgdx-1)/2;f=cDIV(p0,0,tWidth,"",0,"overflow:hidden;text-align:center;white-space:nowrap;padding-top:2px;line-height:"+(e-2)+"px;",'id="div1"',"");f=f+('<div style="position:absolute;top:'+e+"px;left:"+d+"px;width:"+b+"px;height:"+c+'px;">')+cDIV(0,0,b,c,0,qbColor+(NOBD?BDIMG:""),"","");f+=cDIV(1,1,b-2,c-2,0,VIMG&&NOBD?"":qpColor+
BDIMG,"","");if(VIMG)LNIMG&&(f+=cDIV(A-(qgdx+1)/2,w-(qgdx+1)/2,9*qgdx+2,10*qgdx+2,0,LNIMG,"",""));else{f+=cDIV(A-g-h,w-g-h,8*qgdx+1+2*h+2*g,9*qgdx+1+2*h+2*g,0,qgColor,"","");f+=cDIV(A-h,w-h,8*qgdx+1+2*h,9*qgdx+1+2*h,0,qpColor,"","");f+=cDIV(A-h,w-h,8*qgdx+1+2*h,9*qgdx+1+2*h,0,qpColor,"","");f+=cDIV(A,w,8*qgdx+2,9*qgdx+2,0,bxColor,"","");f+=cDIV(A,w,8*qgdx+1,9*qgdx+1,0,qgColor,"","head");for(m=0;9>m;m++)if(4==m)f+=cDIV(1,m*qgdx+1,8*qgdx-1,qgdx-1,0,bxColor,"","head")+cDIV(1,1,8*qgdx-2,qgdx-2,0,qpColor,
"","")+"</div>";else for(p=0;8>p;p++)f+=cDIV(p*qgdx+1,m*qgdx+1,qgdx-1,qgdx-1,0,bxColor,"","head")+cDIV(1,1,qgdx-2,qgdx-2,0,qpColor,"","")+"</div>";f=f+"</div>"+('<div id="div19" style="position:absolute;top:'+w+"px;left:"+A+'px;">')+ls(4*qgdx,qgdx);f+=ls(4*qgdx,8*qgdx);f+=lz(0,3*qgdx,2)+lz(2*qgdx,3*qgdx)+lz(4*qgdx,3*qgdx)+lz(6*qgdx,3*qgdx)+lz(8*qgdx,3*qgdx,3);f+=lz(qgdx,2*qgdx)+lz(7*qgdx,2*qgdx);f+=lz(0,6*qgdx,2)+lz(2*qgdx,6*qgdx)+lz(4*qgdx,6*qgdx)+lz(6*qgdx,6*qgdx)+lz(8*qgdx,6*qgdx,3);f+=lz(qgdx,
7*qgdx)+lz(7*qgdx,7*qgdx);f+="</div>"}g=12<fz&&20>fz?isBIG5?15:16:fz;h=g+g%2;m=parseInt((c-10*qgdx-2*h)/4);p=parseInt(w+4*qgdx+2);w=w+9*qgdx+(w-m-h-1);f+=cDIV(A-h/2+2,m,10*qgdx,"",0,"font-size:"+g+"px;letter-spacing:"+(qgdx-h+7)+"px;",'id="bside"',qpzb[0][1]);f+=cDIV(A+2,p,8*qgdx-2,qgdx-3,0,"overflow:hidden;text-align:center;line-height:"+(qgdx-1)+"px;",'id="mside"',ads_board);f+=cDIV(A-h/2+1,w,10*qgdx,"",0,"font-size:"+g+"px;letter-spacing:"+(qgdx-h+7)+"px;",'id="rside"',qpzb[0][0]);f+=cDIV((b-9*
qgdx+1)/2,(c-10*qgdx)/2,9*qgdx,10*qgdx+2,0,"overflow:hidden;","","head");for(m=32;0<=m;m--)f+='<div id="z'+m+'" style="left:'+10*qgdx+"px;top:"+9*qgdx+"px;position:absolute;width:"+qgdx+"px;height:"+qgdx+'px;">'+(imgQiZi?qzimg[m]:qztxt[m])+"</div>";rQZ[0]=baseQiZi?'<img style="width:'+qgdx+"px;height:"+qgdx+'px;" src="data:image/gif;base64,R0lGODlhCgAKAIAAAP///wAAACH5BAEAAAAALAAAAAAKAAoAAAIIhI+py+0PYysAOw==">':"";if(baseQiZi)for(m=0;10>m;m++)for(p=0;9>p;p++)f+='<div style="position:absolute;top:'+
m*qgdx+"px;left:"+p*qgdx+"px;width:"+(qgdx-1)+"px;height:"+(qgdx-1)+'px;" ondblclick="showClick('+p+","+m+')" onclick="getMove(\''+p+m+"')\">"+rQZ[0]+"</div>";else{f+='<table style="position:absolute;top:0;left:0;" cellspacing="0" cellpadding="0">';for(m=0;10>m;m++){f+="<tr>";for(p=0;9>p;p++)f+='<td style="width:'+qgdx+"px;height:"+qgdx+'px;font-size:1px;line-height:1px;" ondblclick="showClick('+p+","+m+')" onclick="getMove(\''+p+m+"')\">"+rQZ[0]+"</td>";f+="</tr>"}f+="</table>"}f+="</div>";g=parseInt((k+
q)/3)-q;1==g%2&&g++;h="position:absolute;line-height:"+(l-4)+"px;top:"+n+"px;width:"+g+"px;height:"+l+"px;"+(WIN.mobile?"border:1px solid #888;background-color:#ccc;-webkit-appearance:none;":"");f+='<input type="button" style="'+h+'left:0;" onclick="gotonum(\'First\')" value="<<">';f+='<input type="button" style="'+h+"left:"+(g+q)+'px;" onmouseup="gotonum(\'Prev\')" value="<">';f+='<input type="button" style="'+h+"left:"+(2*g+2*q)+'px;" onmouseup="gotonum(\'Next\')" value=">">';f+='<input type="button" style="'+
h+"left:"+(3*g+3*q)+'px;" onclick="gotonum(\'Last\')" value=">>">';f+='<input type="button" style="'+h+"left:"+(4*g+4*q)+"px;width:"+(b-g-4*(g+q)-q)+'px;border:0;background-color:transparent;color:#00f;" id="shownow" value="0/0">';f+='<input type="button" style="'+h+"left:"+(b-g)+'px;" id="autoplay" onclick="AutoPlay()" value="Auto">';f+=cDIV(b-g,n+l-13*lh-4,g,13*lh+6,0,"display:none;overflow:hidden;"+bdColor,'id="autotime"',"head");f+=cDIV(1,1,g-2,13*lh+4,0,"line-height:"+lh+"px;background-color:#fff;text-align:center;",
"",'<div style="height:3px;font-size:3px;line-height:3px;"></div><a href="javascript:turnBoard();">Turn</a><br><a href="javascript:Autotimer(8000)">8.0s</a><br><a href="javascript:Autotimer(5000)">5.0s</a><br><a href="javascript:Autotimer(3000)">3.0s</a><br><a href="javascript:Autotimer(2000)">2.0s</a><br><a href="javascript:Autotimer(1000)">1.0s</a><br><a href="javascript:Autotimer(500)">0.5s</a><br><a href="javascript:Autotimer(200)">0.2s</a><br><a href="javascript:Autotimer(100)">0.1s</a>');f+=
"</div></div>";l="padding-top:"+(0<NS.IE&&9>NS.IE?2:1)+"px;line-height:"+(t-2)+"px;";f+='<div style="'+(240==wTitle?"display:none;":"")+"position:absolute;top:"+e+"px;left:"+(d+b+a)+'px;">';f+=cDIV(0,0,k,c,0,bdColor,"","");f+=cDIV(1,1,k-2,c-2,0,blColor,"","");f+=cDIV(1,t,k-2,16*lh+2,0,brColor,"","");f+=cDIV(6,1,k-7,"",0,l,"",'\ud83d\udea9 N\u01b0\u1edbc \u0111i [<a href="javascript:HideMove();" id="hidemove">\u1ea8n</a>]');f+=cDIV(2,t+1,k-3,16*lh,0,"overflow:auto;"+CPIMG,'id="m_scroll"',"head");f+=
'<div id="m_text" style="height:'+(16*lh+1)+'px;-moz-user-select:none;" onselectstart="return false;">';f+='  <div id="move_0" onmouseup="gotonum(0)" style="background-color:'+bsColor+';color:#fff;">====start</div>';f+="</div>";f+="</div>";f+='<input type="button" style="'+h+'left:0;" value="\u0110\u1ea3o" id="turn_Board" onclick="turnBoard()">';f+='<input type="button" style="'+h+"left:"+(g+q)+'px;" value="\u0110\u1ed1i x\u1ee9ng" id="mirror_Board" onclick="mirrorBoard()">';f+="</div>";m=w0-p0-(d+
b+a+k+a);n=12*lh-t;f+='<div style="'+(500!=wTitle?"display:none;":"")+"position:absolute;top:"+e+"px;left:"+(d+b+a+k+a)+'px;">';f+=cDIV(0,0,m,c,0,bdColor,"","");f+=cDIV(1,1,m-2,c-2,0,blColor,"","");f+=cDIV(1,t,m-2,n,0,brColor,"","");f+=cDIV(6,1,m-7,"",0,l,"",'\ud83d\udea9B\u00ecnh lu\u1eadn <a href="javascript:EditComment(cText)" id="e_comm"> [S\u1eeda]</a>');f+=cDIV(2,t+1,m-3,n-2,0,"overflow:hidden;"+CPIMG,'id="c_scroll"',"head");f+='<textarea id="c_text"  spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"  style="resize:none;position:absolute;left:2px;top:0;height:'+
(n-2)+"px;overflow-y:scroll;border:0;width:"+(m-5)+'px;padding:0;margin:0;background-color:transparent;" onblur="allowLR=true;" onfocus="allowLR=false;" ondblclick="this.select();"></textarea>';f+="</div>";f+=cDIV(6,t+n+1,m-7,"",0,l,"",'<span id="livevartxt">Bi\u1ebfn h\u00f3a</span><a href="javascript:UpMove()" title="Move up">Up </a><a href="javascript:DownMove()" title="Move down">Down </a><a href="javascript:DelMove()" title="Delete step var">Del </a>');f+=cDIV(6,t+n+1,m-7-3*fzt,"",0,l,'id="livetimediv"',
"");f+=cDIV(1,t+n+t,m-2,4*lh+2,0,brColor,"","");f+=cDIV(2,t+n+t+1,m-3,4*lh,0,"overflow:auto;"+CPIMG,'id="v_scroll"',"head");f+='<div id="v_text" style="height:'+(4*lh+1)+'px;-moz-user-select:none;" onselectstart="return false;">'+ads_dpxq+"</div>";f+="</div>";f+='<input type="button" style="'+h+"left:"+(g+q)+'px;" value="Xu\u1ea5t" id="showsource" onclick="ViewSource()">';f+='<input type="button" style="'+h+"left:"+(2*g+2*q)+"px;width:"+(m-2*g-2*q)+'px;color:#f00;" value="Th\u00f4ng tin" id="showsearch" onclick="ViewSearch()">';
f+="</div>";k=k+m+a;n-=1*lh;f+='<div id="sourceText" style="position:absolute;display:none;top:'+e+"px;left:"+(d+b+a)+'px;">';f+=cDIV(0,0,k,c,0,bdColor,"","");f+=cDIV(1,1,k-2,c-2,0,blColor,"","");f+=cDIV(1,t,k-2,n,0,brColor,"","");f+=cDIV(6,1,k-7,"",0,l,"","M\u00e3 nh\u00fang v\u00e1n c\u1edd (D\u00f9ng \u0111\u1ec3 \u0111\u01b0a v\u00e0 c\u00e1c b\u00e0i vi\u1ebft tr\u00ean web)");f+='<textarea id="source_Text"  spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"  style="resize:none;position:absolute;left:2px;top:'+
(t+1)+"px;width:"+(k-3)+"px;height:"+(n-2)+"px;"+CPIMG+'overflow-y:scroll;border:0;padding:0;margin:0;background-color:transparent;" onblur="allowLR=true;" onfocus="allowLR=false;" ondblclick="this.select();"></textarea>';f+=cDIV(6,t+n+1,k-7,"",0,l,"",'\ud83d\udd39<a href="javascript:ads_cot()" style="color:#2200e0">Ch\u01a1i C\u1edd T\u01b0\u1edbng</a> \ud83d\udd39<a href="javascript:ads_cou()" style="color:#2200e0">Ch\u01a1i C\u1edd \u00dap</a> \ud83d\udd39<a href="javascript:setBinit(1)">T\u1ea1o v\u00e1n c\u1edd</a>');
f+=cDIV(1,t+n+t,k-2,5*lh+2,0,brColor,"","");f+=cDIV(2,t+n+t+1,k-3,5*lh,0,"overflow-y:scroll;overflow-x: hidden;"+CPIMG,"","head");f+='<div style="position:absolute;left:4px;top:1px;">';f+="+ \u0110\u00e2y l\u00e0 v\u00e1n c\u1edd theo \u0111\u1ecbnh d\u1ea1ng trang dpxq:</br>  + T\u1ea1o v\u00e1n c\u1edd n\u01b0\u1edbc \u0111i theo \u00fd c\u1ee7a b\u1ea1n</br>  + Sau khi t\u1ea1o xong copy m\u00e3 nh\u00fang v\u00e1n c\u1edd \u0111\u1ec3 \u0111\u01b0a v\u00e0o b\u00e0i vi\u1ebft di\u1ec5n \u0111\u00e0n";
f+="</div></div>";f+="</div>";f+='<div id="searchText" style="position:absolute;display:none;top:'+e+"px;left:"+(d+b+a)+'px;">';f+=cDIV(0,0,k,c,0,bdColor,"","");f+=cDIV(1,1,k-2,c-2,0,blColor,"","");f+=cDIV(1,t,k-2,16*lh+2,0,brColor,"","");f+=cDIV(6,1,k-7,"",0,"padding-top:1px!important;padding-top:2px;line-height:"+(t-2)+"px;","","Th\u00f4ng tin");f+=cDIV(2,t+1,k-3,16*lh,0,""+CPIMG,'id="search_Text"',"");f+="</div>";f+='<div style="position:absolute;top:'+(h0+3)+"px;left:"+p0+'px;">';f+='  <div id="div16" style="position:relative;text-align:left;height:'+
(2*lh+3)+"px;width:"+tWidth+'px;overflow:hidden;"></div>';f+='  <textarea id="showText"  spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"  onblur="allowLR=true;" onfocus="allowLR=false;" ondblclick="this.select();" style="resize:none;padding:1px;overflow-y:scroll;background-color:#fff;height:'+Math.max(aHeight-p0-(h0+2*lh+6),0)+"px;width:"+tWidth+"px;"+CPIMG+'"></textarea>';f+='  <form target="DhtmlXQ_dpxq" style="display:none;" name="DhtmlXQ_search" id="DhtmlXQ_search" method="post" action="'+
SURL+'index.asp"><textarea name="ubb"></textarea><input type="text" name="s"><input type="text" name="f"></form>';f+="</div>";C.innerHTML=f;C.style.width=wm+"px";C.style.height=aHeight+"px";TT[3]=Number(new Date)}
function Conv_Ver2(a,b){if(!b){var c=eval("/\\[DhtmlXQ_movelist\\](.+"+REOK+")\\[\\/DhtmlXQ_movelist\\]/gi");b=a.match(c);if(null==b)return a;b=b[0].replace(c,"$1").replace(/[^A-Za-z0-9]/gi,"")}if(-1!=b.search(/\D/gi))b=b.replace(/(\w{6}[XYZ])/gi,"|$1").substr(1).split("|");else return a;var c=["0_1"],d=[""],e,g=0,h=[],k=0;var l=b.length;for(e=0;e<l;e++){var q=b[e].substr(0,4);var n=parseInt(b[e].substr(8),10);e==n?(k++,d[g]+=q):(g++,c[g]=0<n&&h[n].split("_")[0]==h[n-1].split("_")[0]?h[n]:c[h[n].split("_")[0]],
k=parseInt(h[n].split("_")[1],10),d[g]=q);h[e]=g+"_"+k;a=a.replace("[DhtmlXQ_comment"+(e+1)+"]","[DhtmlXQ_comment"+h[e]+"]").replace("[/DhtmlXQ_comment"+(e+1)+"]","[/DhtmlXQ_comment"+h[e]+"]")}for(e=c.length-1;0<=e;e--)c[e]="[DhtmlXQ_move_"+c[e]+"_"+e+"]"+d[e]+"[/DhtmlXQ_move_"+c[e]+"_"+e+"]";return a=a.replace(/DhtmlXQ_comment0\]/gi,"DhtmlXQ_comment0_0]").replace(eval("/\\[DhtmlXQ_(comment\\d+|move\\w+)\\].*"+REOK+"\\[\\/DhtmlXQ_\\1\\]/gi"),"")+c.join("\r\n")}
function initdata(){TT[4]=Number(new Date);clearInterval(Livetime);clearInterval(timer);showClick(10,9);$("divsave").style.display="none";$("autoplay").value="Auto";$("turn_Board").style.color="";$("mirror_Board").style.color="";Mscroll=$("m_scroll");MoveDIV=$("m_text");VarDIV=$("v_text");sText=$("source_Text");sText1=$("showText");cText=$("c_text");getvar("hidemove")&&HideMove();ViewUrl=getvar("viewurl");pClick=refer="";pCid=-1;cnum=32;lnum=fnum=nnum=0;allowLR=!0;isTurn=!1;canauto=!0;LiveAdmin=!1;
LiveID=0;CSS=!0;isAddMove=isMirror=!1;BPos=[];AllowAdd=32;sMI=["0_1_0"];pMI=["0_1_0"];D400=[];D400[1E3]="";P90="          ".replace(/ /gi,"          ").replace(/ /gi,"99").match(/\d\d/gi);P=(getvar("binit").replace(/\D/gi,"9")+B).match(/\d{64}/);hits=getvar("hits");""!=hits&&(hits="\u6d4f\u89c8 "+hits+" \u6b21");move=getvar("movelist").replace(/[^A-Za-z0-9]/gi,"");-1==UBB.search(/\[(DhtmlXQ_move_\d+_\d+_\d+)\]\d{4}.*\[\/\1\]/gi)&&-1!=move.search(/\D/gi)&&(UBB=Conv_Ver2(UBB,move));UBB=UBB.replace(/\[DhtmlXQ_comment(\d+)\](.+)\[\/DhtmlXQ_comment\1\]/gi,
"[DhtmlXQ_comment0_$1]$2[/DhtmlXQ_comment0_$1]");UBB=UBB.replace(/\[DhtmlXQ_movelist\](.*)\[\/DhtmlXQ_movelist\]/gi,"[DhtmlXQ_move_0_1_0]$1[/DhtmlXQ_move_0_1_0]");-1==UBB.search(/\[DhtmlXQ_move_0_1_0\].*\[\/DhtmlXQ_move_0_1_0\]/gi)&&(UBB+="[DhtmlXQ_move_0_1_0][/DhtmlXQ_move_0_1_0]");move=getvar("move_0_1_0");lnum=parseInt(move.length/4);fnum=parseInt(getvar("firstnum"),10);isNaN(fnum)&&(fnum=0);999<lnum&&(lnum=999);fnum>lnum&&(fnum=lnum);0>fnum&&(fnum=0);var a,b="";for(a=0;31>=a;a++){var c=P[0].charAt(2*
a)-0;var d=P[0].charAt(2*a+1)-0;9==c&&cnum--;$("z"+a).style.left=c*qgdx+(9==c?qgdx:0)+"px";$("z"+a).style.top=d*qgdx+"px";P90[10*c+d]=a}xqtitle=PVer<getvar("pver")?'\u8bf7[<a href="http://www.dpxq.com/hldcg/dhtmlxq/" target="_black" style="color:#f00">\u70b9\u6b64\u4e0b\u8f7d</a>]\u6700\u65b0\u68cb\u76d8\u652f\u6301\u6587\u4ef6 <a href="javascript:getInfo()">\u7248\u672c\u4fe1\u606f</a>':getvar("title").replace(/</g,"&lt;");$("div1").style.fontSize=(240==wTitle||xqtitle.replace(/[^\x00-\xff]/gi,"xx").length*
(fzt/2)>tWidth?fz:fzt)+"px";$("div1").innerHTML=xqtitle;MoveDIV.innerHTML='<div id="move_0" onmouseup="gotonum(0)" style="background-color:'+bsColor+';color:#fff;" >\ud83d\udcdc B\u1eaft \u0111\u1ea7u \ud83d\udcdc'+havecomment(0,0)+"</div>";d=getMovelistString(move,P[0]);a=1;for(c=0;a<=lnum;a++)sMI[a]="0_1_0",pMI[a]="0_1_0",b+='\r\n<div id="move_'+a+'" onmouseup="gotonum('+a+')">',1==a%2?(c++,b+=100<=c?c+".":10<=c?"&nbsp;"+c+".":"&nbsp;&nbsp;"+c+"."):b+="&nbsp;&nbsp;&nbsp;&nbsp;",b+=d.substr(4*a-
4,4)+havecomment(0,a)+havevar(0,a)+"</div>";MoveDIV.innerHTML+=Ch40(b);a=ViewUrl.match(/f=\d{1,3}[_\d]*/gi);gotoMI(null!=a?a[0].substr(2):""+fnum);NoFile?-1!=location.href.search(/(live|room)=yes/gi)?refer=$("refer").innerHTML:document.referrer&&(refer=document.referrer,""!=refer&&(refer=URLEscape(refer.replace(/(\w:\/+[^\/]+)(\/.*)?/gi,"$1")+"/\r\n"+refer))):(refer=parent.location.href,-1!=refer.search(/\/hldcg\/chess\/(view\.htm|live\/[mnu]_\d+\.html)/gi)?refer=$P("refer").innerHTML:(-1!=refer.search(/dhtml\w{3}\.asp\?f=.+/gi)&&
(refer=parent.parent.location.href),refer=URLEscape(location.protocol+"//"+location.hostname+"/\r\n"+refer)));""==refer&&(refer=getvar("refer"));""==refer&&(refer=URLEscape("http://www.dpxq.com/\r\nhttp://www.dpxq.com/hldcg/search/"));getSEARCH();a=$("div16");0==getvar("class").search(/^[\u5C0D\u5BF9]\u5C40\u76F4\u64AD$/gi)?(a.innerHTML=getvar("livetext"),sText1.value="",LiveMain()):($("livevartxt").innerHTML="Bi\u1ebfn h\u00f3a: ",$("livetimediv").innerHTML="",a.innerHTML=getrefer(),(aHeight>=w0||
isSP||window==top)&&getTEXT(getvar("txttype")));isSP&&(a=parent.UBBS.length,10<=a&&(parent.UBBS[a-10]=""),parent.UBBS[a]=UBB);TT[5]=Number(new Date)}
function conv_ev(a){a=a.match(/\d\d/gi);var b;if(null==a)return"";if(isMirror&&isTurn)for(b=0;b<a.length;b++)"90">a[b]&&(a[b]=""+a[b].substr(0,1)+(9-a[b].substr(1)));else if(isMirror)for(b=0;b<a.length;b++)"90">a[b]&&(a[b]=""+(8-a[b].substr(0,1))+a[b].substr(1));else if(isTurn)for(b=0;b<a.length;b++)"90">a[b]&&(a[b]=(189-a[b]).toString().substr(1));return a.join("")}
function CP(a){var b=a.match(/\d\d/gi);a=a.match(/\d\d/gi);b[0]<b[8]&&(a[8]=b[0],a[0]=b[8]);b[1]<b[7]&&(a[7]=b[1],a[1]=b[7]);b[2]<b[6]&&(a[6]=b[2],a[2]=b[6]);b[3]<b[5]&&(a[5]=b[3],a[3]=b[5]);b[9]<b[10]&&(a[10]=b[9],a[9]=b[10]);b[16]>b[24]&&(a[24]=b[16],a[16]=b[24]);b[17]>b[23]&&(a[23]=b[17],a[17]=b[23]);b[18]>b[22]&&(a[22]=b[18],a[18]=b[22]);b[19]>b[21]&&(a[21]=b[19],a[19]=b[21]);b[25]>b[26]&&(a[26]=b[25],a[25]=b[26]);return a.slice(0,11).join("")+b.slice(11,16).sort().reverse().join("")+a.slice(16,
27).join("")+b.slice(27,32).sort().join("")}function showClick(a,b){$("z32").style.left=a*qgdx+"px";$("z32").style.top=b*qgdx+"px"}
function getMove(a){var b=a.split("");var c=conv_ev(getpos(1)).replace(/(\d\d)/gi,"$1_");if(32>AllowAdd)0<=c.indexOf(a)?showalert("\u6b64\u5904\u6709\u68cb\u5b50"):(c=c.split("_"),c[AllowAdd]=a,c=c.join(""),DrawPOS(c),setBinit(),AllowAdd=32);else{CSS=!1;if(4==a.length)pClick=a;else if(2==a.length)pClick+=conv_ev(a);else return;0<=pCid&&(showClick(10,9),pCid=-1);if(2==pClick.length%4)a=pClick.substr(pClick.length-2),pCid=c.indexOf(a),0<pCid&&(pCid/=3),0<=pCid?showClick(b[0],b[1]):pClick=pClick.replace(/\d\d$/gi,
"");else{var d=pClick.replace(/^.*(\d{4})$/gi,"$1"),e="_"+d.substr(0,2)+"_",g="_"+d.substr(2,2)+"_";if(e==g)pClick=pClick.replace(/^(.*)\d{4}$/gi,"$1");else{var h=4<pClick.length||isMXQ?"":getMovelistString(d,P[nnum]);if(""!=h&&(0>=LiveID||0<LiveID&&(LiveAdmin||4==a.length))){if(nnum==lnum){lnum++;move+=d;sMI[lnum]=sMI[nnum];pMI[lnum]=sMI[nnum];$("move_"+lnum)||(MoveDIV.innerHTML+=Ch40('\r\n<div id="move_'+lnum+'" onmouseup="gotonum('+lnum+')">'+(0==nnum%2?("    "+(nnum/2+1)+".").replace(/.*(.{4})$/gi,
"$1"):"    ").replace(/ /gi,"&nbsp;")+h+"&nbsp;&nbsp;</div>"));var k=eval("/\\[(DhtmlXQ_move_"+sMI[nnum]+")\\](.*)\\[\\/\\1\\]/gi");UBB=UBB.replace(k,"[$1]$2$MOVE[/$1]").replace("$MOVE",d);UpData();"Safari"==NS&&14>nnum&&(Mscroll.scrollTop=0);gotonum("Next");LiveMovePost("move$$$"+move)}else if(d==move.substr(4*nnum,4))gotonum("Next");else if(d==getvar("move_"+pMI[nnum+1]).substr(4*(nnum-pMI[nnum+1].split("_")[1])+4,4))gotonum("Next"),sMI[nnum]!=pMI[nnum]&&get_movetext(pMI[nnum],pMI[nnum]);else{k=
eval("/\\[DhtmlXQ_move_("+pMI[nnum+1].split("_")[2]+"_"+(nnum+1)+"_\\d+)\\](\\d{4}).*\\[\\/DhtmlXQ_move_\\1\\]/gi");var l=UBB.match(k)||[];for(b=0;b<l.length;b++)l[b].replace(k,"$2")==d&&(gotonum("Next"),sMI[nnum]!=l[b].replace(k,"$1")&&get_movetext(pMI[nnum],l[b].replace(k,"$1")))}if(CSS)return;if(4==a.length){k=/\[(DhtmlXQ_move_\d+_\d+_(\d+))\].*\[\/\1\]/gi;l=UBB.match(k).join("\n").replace(k,"0000000000$2_").replace(/0+(\d{10})_/gi,"$1").split("\n").sort();c=l.length-1;if(l[c]==c)b=c+1;else for(b=
0;b<=c&&b==l[b]-0;b++);l=pMI[nnum+1].split("_")[2]+"_"+(nnum+1)+"_"+b;UBB+="\r\n[DhtmlXQ_move_"+l+"]"+a+"[/DhtmlXQ_move_"+l+"]";UpData();gotonum("Next");get_movetext(pMI[nnum],l)}else VarAdd(d,h),LiveAdmin&&showalert('<span><br>\u53d1\u73b0\u7740\u6cd5\u4e0e\u539f\u7740\u6cd5\u4e0d\u540c<br>\u786e\u5b9a\uff1d\u6309\u7167\u65b0\u7740\u6cd5\u66f4\u65b0<br>\u53d6\u6d88\uff1d\u7ee7\u7eed\u63a8\u6f14\u4e0d\u66f4\u65b0</span>|getMove("'+d+'")')}CSS||(c="_"+c,c=0<=c.indexOf(g)?c.replace(g,"_99_").replace(e,
g):c.replace(e,g),DrawPOS(c.replace(/_/gi,"")),isSP&&auto_search())}}}}function VarAdd(a,b){var c=$("var_"+sMI[nnum]),d='<div style="position:absolute;top:0;left:0;background-color:'+bsColor+';"><a href=javascript:getMove("'+a+'") style="margin-left:2px;line-height:'+(lh-1)+"px!important;line-height:"+(lh-2)+'px;color:#ff0;">\u70b9\u6b64\u589e\u52a0\u53d8\u7740'+b+"</a></div>";null!=c?c.innerHTML+=d:VarDIV.innerHTML=0==nnum?d:VarDIV.innerHTML+d}
function auto_search(){$P("auto_search")&&eval($P("auto_search").value);$P("auto_getpos")&&eval($P("auto_getpos").value)}function UpData(){NoFile?self.name="NoFile_[DhtmlXQiFrame]"+UBB+"[/DhtmlXQiFrame]":$P(self.name.substr(5)).innerHTML=UBB}
function gotoMI(a){a=a.split("_");var b=[],c=0;if(1<a.length){var d=eval("/\\[(DhtmlXQ_move_("+a[1]+"_"+a[2]+"_"+a[3]+"))\\]\\d{4}.*\\[\\/\\1\\]/gi");for(b[0]=UBB.match(d);b[c];){b[c]=b[c][0].replace(d,"$2");"0_1_0"==b[c]&&(d="ok");if(999==c||-1!=b[c].search(/(\d+)_\d+_\1$/gi))break;d=eval("/\\[(DhtmlXQ_move_(\\d+_\\d+_"+b[c].split("_")[0]+"))\\]\\d{4}.*\\[\\/\\1\\]/gi");c++;b[c]=UBB.match(d)}}if("ok"==d)for(;0<c;)gotonum(b[c-1].split("_")[1]),get_movetext(b[c],b[c-1]),c--;gotonum(a[0]>lnum?lnum:
a[0]);9==a.length&&(a[4]&&turnBoard(),a[5]&&mirrorBoard(),4==a[6].length&&(d=getMovelistString(a[6],P[nnum]),""!=d&&(VarAdd(a[6],d),pClick=a[6])),64==a[8].length&&(""!=a[7]&&(3==a[7].length?showClick(a[7].substr(0,1),a[7].substr(2)):32>a[7]&&(pCid=a[7],pClick+=a[8].substr(2*pCid,2))),CSS=!1,DrawPOS(a[8])))}
function gotonum(a){canauto=!1;var b=nnum;AllowAdd=32;if("Next"==a)Next();else if("Prev"==a)Prev();else if("Last"==a)for(lnum-nnum>cnum&&(CSS=!1);nnum<lnum;)Next();else if("First"==a)for(a=nnum>fnum?fnum:0,nnum-a>cnum&&(CSS=!1);nnum>a;)Prev();else if(nnum<a)for(a-nnum>cnum&&(CSS=!1);nnum<a;)Next();else if(nnum>a)for(nnum-a>cnum&&(CSS=!1);nnum>a;)Prev();M_GOTO(nnum,b);CSS||(CSS=!0,DrawPOS(P[nnum]),pClick="",0<=pCid&&(showClick(10,9),pCid=-1));$("shownow").value=nnum+"/"+lnum;ShowCommentText();ShowVarText();
canauto=!0;isSP&&0<nnum&&auto_search()}function M_GOTO(a,b){if(a!=b)if($("move_"+b).style.backgroundColor="",$("move_"+b).style.color="",$("move_"+a).style.backgroundColor=bsColor,$("move_"+a).style.color="#FFF",b>a){if(Mscroll.scrollTop>(a-2)*lh||Mscroll.scrollTop<(a-16)*lh)Mscroll.scrollTop=(a-1)*lh}else if(Mscroll.scrollTop<(a-14)*lh||Mscroll.scrollTop>(a-1)*lh)Mscroll.scrollTop=(a-14)*lh}
function ShowCommentText(){if(!isAddMove){var a=CLS(getvar("comment"+sMI[nnum].split("_")[2]+"_"+nnum));0==nnum&&""==a&&(a=CLS(getvar("other")));cText.value=a+"\n\n\n\n\n\n\n\n\n\n";LiveAdmin&&(sText1.value=a);cText.scrollTop=0}}
function ShowVarText(){if(0==nnum)VarDIV.innerHTML=ads_dpxq,$("v_scroll").scrollTop=0;else{sMI[nnum].split("_");var a=pMI[nnum].split("_"),b=getvar("move_"+pMI[nnum]).substr(4*(nnum-a[1]),4),c='<div id="var_'+pMI[nnum]+'" onclick="get_movetext(\''+pMI[nnum]+"','"+pMI[nnum]+"')\">&nbsp;&nbsp;1."+getMovelistString(b,P[nnum-1])+"&nbsp;"+havecomment(a[2],nnum)+"</div>",d,e=eval("/\\[(DhtmlXQ_move_("+a[2]+"_"+nnum+"_[1-9]\\d*))\\](\\d{4}.*)\\[\\/\\1\\]/gi"),g=UBB.match(e);if(null!=g)for(d=1;d<=g.length;d++)b=
g[d-1].replace(e,"$3").substr(0,4),a=g[d-1].replace(e,"$2"),c+='\r\n<div id="var_'+a+'" onclick="get_movetext(\''+pMI[nnum]+"','"+a+"')\">",c+=9>d?"&nbsp;&nbsp;":99>d?"&nbsp;":"",c+=d+1+"."+getMovelistString(b,P[nnum-1])+"&nbsp;"+havecomment(a.split("_")[2],nnum),c+="</div>";VarDIV.innerHTML=Ch40(c);b=$("var_"+sMI[nnum]);null!=b?(b.style.backgroundColor=bsColor,b.style.color="#FFF",b.innerHTML+=Ch40("&nbsp;&nbsp;&nbsp;<--"),b=b.innerHTML.replace(/^.*(\d+).*$/gi,"$1"),$("v_scroll").scrollTop=3<b?(b-
3)*lh:0):$("v_scroll").scrollTop=0}}
function get_movetext(a,b){var c=0==nnum?1:nnum;if(b!=sMI[c]){var d=b.split("_"),e=a.split("_"),g=getvar("move_"+b).replace(/^(\d*).*$/gi,"$1");if(""!=g){b==pMI[c]&&(g=g.substr(4*(c-d[1])));canauto=!1;Prev();move=(move.substr(0,4*nnum)+g).match(/\d{4}/gi).join("");var g=MoveDIV.innerHTML.match(/[^\x00-\xff]{4}/gi).join("").substr(0,4*c)+getMovelistString(g,P[nnum]),h,k="",l=parseInt(c/2);lnum=move.length/4;for(h=c;h<=lnum;h++)sMI[h]=b,pMI[h]=h==c?a:b,k+='\r\n<div id="move_'+h+'" onmouseup="gotonum('+
h+')">',1==h%2?(l++,k+=100<=l?l+".":10<=l?"&nbsp;"+l+".":"&nbsp;&nbsp;"+l+"."):k+="&nbsp;&nbsp;&nbsp;&nbsp;",k+=g.substr(4*h,4)+havecomment(d[2],h)+havevar(h==c?e[2]:d[2],h)+"</div>";sMI=sMI.slice(0,lnum+1);pMI=pMI.slice(0,lnum+1);MoveDIV.innerHTML=MoveDIV.innerHTML.match(/<div.+<\/div>/gi).slice(0,c).join("\r\n")+Ch40(k);canauto=!0;gotonum("Next")}}}function havecomment(a,b){return-1==UBB.search(eval("/\\[(DhtmlXQ_comment"+a+"_"+b+")\\].+\\[\\/\\1\\]/gi"))?Ch40("&nbsp;"):"*"}
function havevar(a,b){return-1==UBB.search(eval("/\\[(DhtmlXQ_move_"+a+"_"+b+"_[1-9]\\d*)\\]\\d{4}.*\\[\\/\\1\\]/gi"))?Ch40("&nbsp;"):"m"}function HideMove(){MoveDIV.style.visibility="hidden"==MoveDIV.style.visibility?"inherit":"hidden";$("hidemove").innerHTML="\u1ea8n"==$("hidemove").innerHTML?"Hi\u1ec7n":"\u1ea8n"}function DP(a,b){0<=b&&31>=b&&(a=conv_ev((100+a).toString().substr(1)).split(""),$("z"+b).style.left=a[0]*qgdx+(9==a[0]?qgdx:0)+"px",$("z"+b).style.top=a[1]*qgdx+"px")}
function Prev(){if(0<nnum&&nnum<=lnum){nnum--;var a=move.substr(4*nnum+2,2)-0,b=move.substr(4*nnum,2)-0;P90[b]=P90[a];CSS&&DP(b,P90[a]);null!=D400[nnum+1]?(CSS&&DP(a,D400[nnum+1]),P90[a]=D400[nnum+1],D400[nnum+1]=null,cnum++):P90[a]=99}}
function Next(){if(0<=nnum&&nnum<lnum){var a=move.substr(4*nnum,2)-0,b=move.substr(4*nnum+2,2)-0,c=P[nnum].match(/\d\d/gi);nnum++;99!=P90[b]&&(D400[nnum]=P90[b],CSS&&DP(99,D400[nnum]),c[D400[nnum]]=99,cnum--);P90[b]=P90[a];c[P90[a]]=(100+b).toString().substr(1);P[nnum]=c.join("");CSS&&DP(b,P90[a]);P90[a]=99}}
function AutoPlay(){"T\u1ef1 \u0111\u1ed9ng"==$("autoplay").value?($("autotime").style.display="",setTimeout('$("autotime").style.display="none";',3E3)):($("autoplay").value="T\u1ef1 \u0111\u1ed9ng",clearInterval(timer))}function Autotimer(a){timer=setInterval("StopPlay();",a);$("autoplay").value="D\u1eebng";$("autotime").style.display="none"}function StopPlay(){nnum<lnum&&canauto?gotonum("Next"):(clearInterval(timer),$("autoplay").value="D\u1eebng")}
function DrawPOS(a){var b;a=conv_ev(a).split("");for(b=0;32>b;b++)$("z"+b).style.left=a[2*b]*qgdx+(8<a[2*b]?qgdx:0)+"px",$("z"+b).style.top=a[2*b+1]*qgdx+"px";0<=pCid&&showClick(a[2*pCid]-(8<a[2*pCid]?-1:0),a[2*pCid+1])}function turnBoard(){canauto=!1;var a=isTurn,b=isMirror;isTurn=!0;isMirror=!1;$("turn_Board").style.color=a?"":"#f00";DrawPOS(getpos(1));isTurn=a?!1:!0;isMirror=b;a=qpzb[2*(isTurn?1:0)+(isMirror?1:0)];$("bside").innerHTML=a[1];$("rside").innerHTML=a[0];canauto=!0}
function mirrorBoard(){canauto=!1;var a=isTurn,b=isMirror;isTurn=!1;isMirror=!0;$("mirror_Board").style.color=b?"":"#f00";DrawPOS(getpos(1));isMirror=b?!1:!0;isTurn=a;a=qpzb[2*(isTurn?1:0)+(isMirror?1:0)];$("bside").innerHTML=a[1];$("rside").innerHTML=a[0];canauto=!0}function ViewSource(){getIFRAME(1);$("sourceText").style.display="none"==$("sourceText").style.display?"":"none";$("showsource").value="Xu\u1ea5t"==$("showsource").value?"\u1ea8n":"Xu\u1ea5t";hideSearch()}
function ViewSearch(){$("searchText").style.display="none"==$("searchText").style.display?"":"none";$("showsearch").value="Th\u00f4ng tin"==$("showsearch").value?"\u1ea8n":"Th\u00f4ng tin";hideSource()}function hideSearch(){$("searchText").style.display="none";$("showsearch").value="Th\u00f4ng tin"}function hideSource(){$("sourceText").style.display="none";$("showsource").value="\u1ea8n"}function ads_cot(){window.top.location="https://goo.gl/Q3CvBk"}
function ads_cou(){window.top.location="https://goo.gl/eSSYBk"}
function copycode(a,b){var c=a.value.split(/\r?\n\r?\n/gi),c=1<c.length?c[1]:c[0];window.clipboardData?(window.clipboardData.setData("Text",c),b?1!=b&&showalert(b):showalert("Copy th\u00e0nh c\u00f4ng, h\u00e3y d\u00e1n v\u00e0o b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n!")):navigator.plugins["Shockwave Flash"]?showalert('<embed src="'+DhtmlXQimgpath+'DhtmlXQ.swf" allowScriptAccess="always" wmode="transparent" FlashVars="copycode='+encodeURIComponent("|Copy th\u00e0nh c\u00f4ng, h\u00e3y d\u00e1n v\u00e0o b\u00e0i vi\u1ebft c\u1ee7a b\u1ea1n!||"+c)+
'" width="'+(.8*wm-4)+'" height="80" type="application/x-shockwave-flash"></embed>'):showalert("Tr\u00ecnh duy\u1ec7t kh\u00f4ng h\u1ed7 tr\u1ee3 copy, h\u00e3y copy b\u1eb1ng tay!")}function getpos(a){var b=[],c;for(c=0;32>c;c++)b[c]=$("z"+c),b[c]=parseInt(b[c].style.left)/qgdx+""+parseInt(b[c].style.top)/qgdx,10<=b[c]-90&&(b[c]=b[c]-10+"");if(a)return b.join("");if(isTurn)for(c=0;32>c;c++)90>b[c]&&(b[c]=(""+(189-b[c])).substr(1));return b}
function checkDIY(){var a=parent.search_diy.document.s;a||(showalert('\u8bf7\u5237\u65b0[<a href="javascript:parent.show(3)" style="color:#f00;">\u9ad8\u7ea7\u641c\u7d22</a>]\u9875\u4fee\u590d\u6b64\u95ee\u9898'),a=0);return a}function SearchP(a,b){var c=getpos().join("");isNaN(b)&&(b="");if(isSP){var d=checkDIY();d&&(d.e.value="",d.p.value=c+a,d.result.value=b,d.submit())}else PostData("&p="+c+a+"&result="+b,"")}
function SearchEPOS(a){var b=getpos().join("");if(isSP){var c=checkDIY();c&&(c.e.value="",c.p.value=b+a,c.owner.value="u",c.submit())}else PostData("&owner=u&p="+b+a,"")}function SearchE(a){var b=getpos(),c;isNaN(a)&&(a="");var d=[1,2,4,5,0,5,4,2,1,3,3,6,6,6,6,6,7,8,10,11,0,11,10,8,7,9,9,12,12,12,12,12],e="0000000000000".split("");for(c=0;32>c;c++)90>b[c]&&e[d[c]]++;e=e.join("8").substr(2);if(isSP){if(b=checkDIY())b.e.value=e,b.result.value=a,b.submit()}else PostData("&e="+e+"&result="+a,"")}
function SearchRB(a,b){var c=g_rb(getvar(a))[1].replace(/ /gi,"+");isNaN(b)&&(b="");if(isSP){var d=checkDIY();d&&(d.red.value=c,d.black.value=c,d.result.value=b,d.submit())}else PostData("&red="+c.replace(/\+/gi,"%2B")+"&black="+c.replace(/\+/gi,"%2B")+"&result="+b,"")}function CLS(a){return a.replace(/(^\s*|\s*$)/gi,"")}
function g_rb(a){var b="",c="",d="";"red"==a?(b=CLS(getvar("redteam")),c=CLS(getvar("redname")),d=CLS(getvar("redlevel")),a=""==b&&""==c&&""==d?CLS(getvar("red")):""):"black"==a&&(b=CLS(getvar("blackteam")),c=CLS(getvar("blackname")),d=CLS(getvar("blacklevel")),a=""==b&&""==c&&""==d?CLS(getvar("black")):"");a=""==a?"":a.replace(/(\w) (\w)/gi,"$1_hldcg_$2").split(/ +/gi);3==a.length&&(b=a[0],c=a[1],d=a[2].match(/\(.+\)/gi),d=null==d?a[2]:d[0].replace(/\((.*)\)/gi,"$1"));2==a.length&&(-1!=a[1].search(/.+\((.*)\)/gi)?
(a[1]=a[1].match(/.+\((.*)\)/gi)[0],b=a[0],c=a[1].replace(/\((.*)\)$/gi,""),d=a[1].replace(/.+\((.*)\)/gi,"$1")):-1!=a[1].search(/\((.*)\)/gi)?(a[1]=a[1].match(/\((.*)\)/gi)[0],b="",c=a[0],d=a[1].replace(/\((.*)\)/gi,"$1")):(b=a[0],c=a[1],d=""));1==a.length&&(-1!=a[0].search(/.+\((.*)\)/gi)?(a[0]=a[0].match(/.+\((.*)\)/gi)[0],b="",c=a[0].replace(/\((.*)\)$/gi,""),d=a[0].replace(/.+\((.*)\)/gi,"$1")):(b="",c=a[0],d=""));c=CLS(c.replace(/_hldcg_/gi," ")).replace(/\+/gi," ");b=CLS(b.replace(/_hldcg_/gi,
" ")).replace(/\+/gi," ");d=CLS(d.replace(/_hldcg_/gi," ")).replace(/\+/gi," ");return[b,c,d]}function getSEARCH(){$("search_Text").innerHTML='T\u1ea1o b\u00e0n c\u1edd, v\u00e1n c\u1edd theo trang dpxq. T\u1ea1o b\u1edfi: <a href="javascript:ads_cot()">C\u1edd T\u01b0\u1edbng Bigkool</a><br>'}function EditSave(){PostData("","&isSave=yes")}function getANIGIF(){PostData("&anigif=ok","")}
function ViewMini(a){0<LiveID&&!isSP?LiveShow():1!=a?showalert("\u786e\u5b9e\u9700\u8981\u5f00\u65b0\u7a97\u53e3\u7814\u7a76\u4e48\uff1f\u70b9\u53d6\u6d88\u53ef\u76f4\u63a5\u5728\u68cb\u76d8\u4e0a\u8d70\u68cb|ViewMini(1)"):(a="mini"+parseInt(1E6*Math.random()),window.open("",a,"width=506,height=376,resizable=yes,location=yes,status=yes"),PostData("mini",a))}
function PostData(a,b){var c=parseInt($("z32").style.left)/qgdx+"0"+parseInt($("z32").style.top)/qgdx,d=VarDIV.innerHTML.match(/getMove\(.\d{4}.\)/gi),d=null==d?"":d[0].match(/\d{4}/gi)[0];document.DhtmlXQ_search.ubb.value=conv(get_arg());document.DhtmlXQ_search.s.value="?site="+location.hostname+a;document.DhtmlXQ_search.f.value=nnum+"_"+sMI[nnum]+(isTurn?"_1":"_")+(isMirror?"_1":"_")+"_"+d+"_"+(0<=pCid?pCid:"900"<=c?"":c)+(CSS?"_":"_"+conv_ev(getpos(1)))+b;document.DhtmlXQ_search.action=SURL+("mini"==
a?"mini.asp":"index.asp");document.DhtmlXQ_search.target="mini"==a?b:"DhtmlXQ_dpxq";document.DhtmlXQ_search.submit()}
function get_arg(){return("[DhtmlXQ]\r\n[DhtmlXQ_ver]www_dpxq_com"+isBIG5+"[/DhtmlXQ_ver]\r\n[DhtmlXQ_init]500,350[/DhtmlXQ_init]\r\n[DhtmlXQ_binit]"+P[0]+"[/DhtmlXQ_binit]\r\n"+UBB.replace(/DhtmlXQ_move_0_1_0/gi,"DhtmlXQ_movelist").replace(/DhtmlXQ_comment0_/gi,"DhtmlXQ_comment").replace(/\[(DhtmlXQ_(refer|generator|viewtype|diy\w+|hidemove|txttype|price|hidden|viewurl|liveadmin|livetext|ver|init|binit|zoom))\][\w\W]*\[\/\1\]/gi,"")+"\r\n[DhtmlXQ_refer]"+refer+"[/DhtmlXQ_refer]\r\n[DhtmlXQ_generator]C\u1edd Bigk\u00f4l[/DhtmlXQ_generator]\r\n[/DhtmlXQ]").replace(/[\r\n]+/gi,
"\r\n").replace(/\?/gi,"\\u003F").replace(/&/gi,"\\u0026").replace(/\=/gi,"\\u003D").replace(/\'/gi,"\\u0027").replace(/\"/gi,"\\u0022")}
function get_barg(){return("[DhtmlXQ]\r\n[DhtmlXQ_ver]www_dpxq_com"+isBIG5+"[/DhtmlXQ_ver]\r\n[DhtmlXQ_init]800,560[/DhtmlXQ_init]\r\n[DhtmlXQ_viewtype]img[/DhtmlXQ_viewtype]\r\n[DhtmlXQ_diyimg]bxq,1,0,1,1,0,38,40,-355,-26[/DhtmlXQ_diyimg]\r\n[DhtmlXQ_binit]"+P[0]+"[/DhtmlXQ_binit]\r\n"+UBB.replace(/DhtmlXQ_move_0_1_0/gi,"DhtmlXQ_movelist").replace(/DhtmlXQ_comment0_/gi,"DhtmlXQ_comment").replace(/\[(DhtmlXQ_(refer|generator|viewtype|diy\w+|hidemove|txttype|price|hidden|viewurl|liveadmin|livetext|ver|init|binit|zoom))\][\w\W]*\[\/\1\]/gi,
"")+"\r\n[DhtmlXQ_refer]"+refer+"[/DhtmlXQ_refer]\r\n[DhtmlXQ_generator]C\u1edd Bigk\u00f4l[/DhtmlXQ_generator]\r\n[/DhtmlXQ]").replace(/[\r\n]+/gi,"\r\n").replace(/\?/gi,"\\u003F").replace(/&/gi,"\\u0026").replace(/\=/gi,"\\u003D").replace(/\'/gi,"\\u0027").replace(/\"/gi,"\\u0022")}function copyUBB(){sText.value=get_arg();copycode(sText)}function getUBB(){sText.value=get_arg()}
function getJAVA(){sText.value='<applet codebase="http://www.dpxq.com/java/" width="500" height="350" code="DhtmlXQ.class" MAYSCRIPT><param name="UBB" value="'+get_arg().replace(/(\[\/?DhtmlXQ)\]/g,"$1JAVA]").replace(/[\r\n]/gi,"")+'"></param></applet>'}
function getHTML(){var a=parseInt(1E4*Math.random());sText.value='<div id="dhtmlxq_'+a+'" style="display:none;">\r\n'+get_arg().replace(/(\[\/?DhtmlXQ)\]/g,"$1HTML]")+'\r\n\u68cb\u8c31\u7531<a href="http://www.dpxq.com/hldcg/dhtmlxq/" target="_blank">http://www.dpxq.com/hldcg/dhtmlxq/</a>\u751f\u6210\r\n</div>\r\n<iframe src="/DhtmlXQ_www_dpxq_com/DhtmlXQ_www_dpxq_com'+isBIG5+'.htm" name="name_dhtmlxq_'+a+'" id="id_dhtmlxq_'+a+'" width="500" height="350" frameborder="0" scrolling="no"></iframe>'}
function getIFRAME(a){sText.value=1==a?'<iframe src="https://bigkool.net/bkbase/cobk.htm" frameborder="0" scrolling="no" width="800" height="560" style="width:800px;height:560px;" name=\'NoFile_'+get_barg().replace(/(\[\/?DhtmlXQ)\]/g,"$1iFrame]").replace(/[\r\n]/gi,"")+"'></iframe>":'<iframe src="https://bigkool.net/bkbase/cobk'+isBIG5+'.htm" frameborder="0" scrolling="no" width="500" height="350" style="width:500px;height:350px;" name=\'NoFile_'+get_arg().replace(/(\[\/?DhtmlXQ)\]/g,"$1iFrame]").replace(/[\r\n]/gi,
"")+"'></iframe>"}
function getFLASH(a){var b="http://"+(0==getvar("class").search(/^[\u5C0D\u5BF9]\u5C40\u76F4\u64AD$/gi)?"live":"www")+".dpxq.com/DhtmlXQ_www_dpxq_com/DhtmlXQ.swf";if(2==a||4==a)sText.value="\u3000\u3000\u672c\u4ee3\u7801\u53ef\u5728\u652f\u6301FLASH\u7684"+(2==a?"\u817e\u8bafQQ\u7a7a\u95f4":"\u65b0\u6d6a\u535a\u5ba2\u6216\u7f51\u6613\u535a\u5ba2")+'\u4e0a\u53d1\u5e03FLASH\u52a8\u6001\u68cb\u76d8\uff0c\u8bf7\u4f7f\u7528\u6e90\u4ee3\u7801\u65b9\u5f0f\u53d1\u8868\r\n\u3000\u3000\u5e38\u89c1\u8c61\u68cb\u7f51\u7ad9\u90fd\u5df2\u5b89\u88c5DhtmlXQ\u52a8\u6001\u68cb\u76d8\u663e\u793a\u652f\u6301\uff0c\u8bf7\u60a8\u5bfc\u51faUBB\u4ee3\u7801\u53d1\u8868\u68cb\u8c31\r\n\r\n<embed src="'+b+
'" width="500" height="350" quality="high" wmode="transparent" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" FlashVars="DhtmlXQ='+get_arg().replace(/(\[\/?DhtmlXQ)\]/g,"$1FLASH]").replace(/[\r\n]/gi,"")+'" />';else{var c=ViewUrl.match(/owner=[mnuw]\&id=[1-9](\d{1,8})?/gi);c?(c=b+"?DhtmlXQ="+c[0].substr(6).replace("&id=","")+".swf",0==a?sText.value="\u3000\u3000\u672c\u4ee3\u7801\u53ef\u5728\u652f\u6301FLASH\u7684\u4efb\u610f\u7ad9\u70b9\u4f7f\u7528\r\n\u65b0\u6d6a\u535a\u5ba2\uff0c\u641c\u72d0\u8bba\u575b\uff0cQQ\u7a7a\u95f4\uff0cDVBBS\u52a8\u7f51\u3001PHPWind\u3001Discuz\u7b49\u5e38\u89c1\u8bba\u575b\u53ef\u70b9\u51fb\u76f8\u5e94\u94fe\u63a5\u76f4\u63a5\u5bfc\u51fa\u7b26\u5408\u8981\u6c42\u7684FLASH\u4ee3\u7801\r\n\u3000\u3000\u5e38\u89c1\u8c61\u68cb\u7f51\u7ad9\u90fd\u5df2\u5b89\u88c5DhtmlXQ\u52a8\u6001\u68cb\u76d8\u663e\u793a\u652f\u6301\uff0c\u8bf7\u60a8\u5bfc\u51faUBB\u4ee3\u7801\u53d1\u8868\u68cb\u8c31\r\n\r\n"+
c:1==a?sText.value="\u3000\u3000\u672c\u4ee3\u7801\u53ef\u5728\u652f\u6301FLASH\u7684\u641c\u72d0\u8bba\u575b\u4e0a\u53d1\u5e03FLASH\u52a8\u6001\u68cb\u76d8\uff0c\u5982\u8981\u5728\u641c\u72d0\u535a\u5ba2\u53d1\u8868\uff0c\u8bf7\u63d0\u53d6FLASH\u5730\u5740\u5f53\u4f5c\u89c6\u9891\u6765\u53d1\u8868\r\n\u3000\u3000\u5e38\u89c1\u8c61\u68cb\u7f51\u7ad9\u90fd\u5df2\u5b89\u88c5DhtmlXQ\u52a8\u6001\u68cb\u76d8\u663e\u793a\u652f\u6301\uff0c\u8bf7\u60a8\u5bfc\u51faUBB\u4ee3\u7801\u53d1\u8868\u68cb\u8c31\r\n\r\n[media "+
c+" width=500 height=350]":3==a&&(sText.value="\u3000\u3000\u672c\u4ee3\u7801\u53ef\u5728\u652f\u6301FLASH\u7684\u535a\u5ba2\u8bba\u575b\u4e0a\u53d1\u5e03FLASH\u52a8\u6001\u68cb\u76d8\uff0c\u5982\u8bba\u575b\u652f\u6301HTML\uff0c\u4e5f\u53ef\u5bfc\u51fa[\u65b0\u6d6a]\u683c\u5f0f\u7684FLASH\u4ee3\u7801\u6765\u53d1\u8868\r\n\u3000\u3000\u5e38\u89c1\u8c61\u68cb\u7f51\u7ad9\u90fd\u5df2\u5b89\u88c5DhtmlXQ\u52a8\u6001\u68cb\u76d8\u663e\u793a\u652f\u6301\uff0c\u8bf7\u60a8\u5bfc\u51faUBB\u4ee3\u7801\u53d1\u8868\u68cb\u8c31\r\n\r\n[flash=500,350]"+
c+"[/flash]")):showalert("\u53ea\u6709\u4e1c\u840d\u68cb\u8c31\u4ed3\u5e93\u4e2d\u7684\u68cb\u8c31\u624d\u53ef\u5bfc\u51faFLASH\u4ee3\u7801\uff0c\u8bf7\u6ce8\u518c\u5e76\u767b\u9646\u68cb\u8c31\u4ed3\u5e93")}}
function getTEXT(a){var b;var c=b=1;var d="0_1_0",e=0,g=P[e],h=0,k=999,l="    ",q="   ",n="",t=" ",m=" ";var f="";var A="*",C="B",z=1,D="",w=0;if(1==a||2==a){var p=document.treetxt;b=p.stype.value-0;c=p.col.value-0;f=p.nstart.value-0;2==f?(d=sMI[nnum],e=d.split("_")[1]-1):1==f&&(d=sMI[nnum],e=nnum);g=P[e];h=0;k=p.maxdepth.value-0;l="          ".substr(0,p.lspace.value-0);q="          ".substr(0,p.mspace.value-0);n="          ".substr(0,p.rspace.value-0);t="          ".substr(0,p.lpad.value-0);m="          ".substr(0,
p.rpad.value-0);f="          ".substr(0,p.zhustr.value);A=p.zhujie.value;C=p.bianzhao.value;z=p.delempty.value-0;D=0==p.istwo.value?"":"....";w=0==p.bianhao.value?0:1}else-1!=a.search(/^\d\d\d\d\d\w*$/gi)?(a=a.split(""),b=a[0]-0,c=a[1]-0,t="          ".substr(0,a[2]-0),m="          ".substr(0,a[3]-0),q="          ".substr(0,a[4]-0)):a="";if(1>c||3<c)c=1;var y=[];y[0]="movelist"+t+A+C;y[2*c-1]=(y[0]+n).length;1<c&&(y[2*c-2]=(y[0]+m+D).length+y[2*c-1],y[2*c-3]=(y[0]+q+"....").length+y[2*c-2]);3==c&&
(y[2]=(y[0]+m+D).length+y[3],y[1]=(y[0]+q+"....").length+y[2]);y[0]=0;var E=getvar("redrating"),E=0==E?"":E,H=getvar("blackrating"),H=0==H?"":H,u=g_rb("red"),G=g_rb("black"),p=CLS((u[0]+" "+u[1]+" ("+u[2]+")").replace(/\(\s*\)/gi,"")),I=CLS((G[0]+" "+G[1]+" ("+G[2]+")").replace(/\(\s*\)/gi,"")),p="\u6807\u9898: "+getvar("title")+"\r\n\u5206\u7c7b: "+getvar("class")+"\r\n\u8d5b\u4e8b: "+getvar("event")+"\r\n\u8f6e\u6b21: "+getvar("round")+"\r\n\u5e03\u5c40: "+getvar("open")+"\r\n\u7ea2\u65b9: "+p+
"\r\n\u9ed1\u65b9: "+I+"\r\n\u7ed3\u679c: "+getvar("result").replace("\u7ea2\u80dc","\u7ea2\u65b9\u80dc").replace("\u9ed1\u80dc","\u9ed1\u65b9\u80dc")+"\r\n\u65e5\u671f: "+getvar("date").replace(/^(\d{2,4})\-(\d?\d)\-(\d?\d)$/gi,"$1\u5e74$2\u6708$3\u65e5")+"\r\n\u5730\u70b9: "+getvar("place")+"\r\n\u7ec4\u522b: "+getvar("group")+"\r\n\u53f0\u6b21: "+getvar("table")+"\r\n\u88c1\u5224: "+getvar("judge")+"\r\n\u8bb0\u5f55: "+getvar("record")+"\r\n\u8bc4\u8bba: "+getvar("remark")+"\r\n\u4f5c\u8005: "+
getvar("author")+"\r\n\u5907\u6ce8: "+getvar("other")+"\r\n",p=(p+"\u7ed3\u675f\u65b9\u5f0f: "+getvar("endtype")+"\r\n\u8bb0\u65f6\u89c4\u5219: "+getvar("timerule")+"\r\n\u7ea2\u65b9\u7528\u65f6: "+getvar("redtime")+"\r\n\u9ed1\u65b9\u7528\u65f6: "+getvar("blacktime")+"\r\n\u7ea2\u7b49\u7ea7\u5206: "+E+"\r\n\u9ed1\u7b49\u7ea7\u5206: "+H+"\r\n\u68cb\u5c40\u7c7b\u578b: "+getvar("type")+"\r\n\u68cb\u5c40\u6027\u8d28: "+getvar("gametype")+"\r\n\u7ea2\u65b9\u56e2\u4f53: "+u[0]+"\r\n\u7ea2\u65b9\u59d3\u540d: "+
u[1]+"\r\n\u7ea2\u65b9\u7b49\u7ea7: "+u[2]+"\r\n\u9ed1\u65b9\u56e2\u4f53: "+G[0]+"\r\n\u9ed1\u65b9\u59d3\u540d: "+G[1]+"\r\n\u9ed1\u65b9\u7b49\u7ea7: "+G[2]+"\r\n\u68cb\u8c31\u4e3b\u4eba: "+getvar("owner")+"\r\n\u68cb\u8c31\u4ef7\u503c: "+getvar("price")+"\r\n\u6d4f\u89c8\u6b21\u6570: "+getvar("hits")+"\r\n\u6765\u6e90\u7f51\u7ad9: "+unescape(getvar("refer")).split("\r")[0]).replace(/<[\x00-\xff][^>]*>/gi,"")+"\r\n \r\n";z&&(p=p.replace(/[^\x00-\xff]{2,4}\: \r\n/gi,""));z=CP(P[e])==B?"":"\u521d\u59cb\u5c40\u9762:\r\n"+
getIMGTEXT(e)+" \r\n";if(""==a)a=MoveDIV.innerHTML.replace(/<[^>]*>|\r|\n/gi,"").replace(/(&(nb|en)sp;|\u2002)/gi," ").substr(9).replace(/(.{10,20})/gi,"$1\r\n"),sText.value=""==CLS(p+z)&&""!=a?a+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210":(p+z+a+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210").replace(/^\s*/gi,""),500==wTitle&&(a=a.replace(/(.*)\r\n(.*)\r\n/gi,"$1  $2\r\n")),sText1.value=""==CLS(p+z)&&""!=a?a+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210":
(p+z+a+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210").replace(/^\s*/gi,"");else{tree=[""];getTree(d,h,e,g,k,b,c,l,n,q,t,m,A,C,f,y,D,w);E=tree.length;tree=tree.join("");e=tree.match(/\u3010\u53D8\{\$\d+\}\-\{\$\d+\}\-\d+\u3011/gi);if(null!=e){e=e.join("").replace(/\u3010\u53D8\{\$(\d+)\}\-\{\$\d+\}\-\d+\u3011/gi,"|/\\{\\$ $1\\}/gi").substr(1).replace(/ /gi,"").split("|");for(c=0;c<e.length;c++)tree=tree.replace(eval(e[c]),c);e=getvar("result");tree="0_1_0"==d?tree.replace("\u3010\u53d80-0-1\u3011",
"\u3010\u4e3b\u53d8"+(""==e?"":": ")+e+"\u3011"):tree.replace(/\u3010\u53D80\-\{\$(\d+)\}\-\d+\u3011/i,"\u3010\u526f\u56fe\u4e3b\u53d8\u3011");tree=tree.replace(/.*\u7B2C [\d ]{3} (\u56DE\u5408[\u7EA2\u9ED1]|\u7740)\: \u6709\[\u53D8\{\$\d+\}\-\d+\-\d+.+\r\n/gi,"");if(0!=b&&(21>=c||100>=c&&2==a)){d=("\u4e3b"+unescape("606162636465666768696A6B6C6D6E6F70717273".replace(/(..)/gi,"%u24$1"))).split("");if(21<c)for(b=21;99>=b;b++)d[b]='<span style="font-family:cNumber2">'+"_+1234567890-=QWERTYUIOP{}qwertyuiop[]ASDFGHJKL:|asdfghjkl;~ZXCVBNM<>?zxcvbnm,.".substr(b-
21,1)+"</span>";tree=""!=D?tree.replace(/\u3010\u53D8(\d+)\-(\d+)\-(\d+)\u3011/gi,"\u53d8{$1}\u63a5{$2}\u53d8\u7b2c$3\u7740"):tree.replace(/\u3010\u53D8(\d+)\-(\d+)\-(\d+)\u3011/gi,"\u53d8{$1}\u63a5\u53d8{$2}\u7b2c$3\u56de\u5408");tree=tree.replace(/.*\u7B2C [\d ]{3} (\u56DE\u5408[\u7EA2\u9ED1]|\u7740)\: \u6709\[\u53D8\d+\-\d+\-\d+.+\r\n/gi,"");for(b=0;b<c;b++)tree=tree.replace(eval("/\\{"+b+"\\} ?/gi"),d[b]);tree=tree.replace(/\u63A5\u53D8\u4E3B/gi,"\u63a5\u4e3b\u53d8")}else tree=tree.replace(/\{\d+(\}\{\d+)*\}/gi,
C);tree=tree.replace(/\r\n(\s?\r\n)+/gi,"\r\n\r\n").replace(/\r\n\s?\r\n/gi,"\r\n \r\n");e=UBB.match(/\[(DhtmlXQ_move_\d+_\d+_\d+)\]\d+\[\/\1\]/gi);1==a&&showalert('<div id="cNumberDIV" style="text-align:center;">\u672c\u68cb\u8c31['+getvar("title")+"]\u5171\u542b"+e.length+"\u4e2a\u53d8\u7740\uff0c\u672c\u6b21\u5bfc\u51fa"+c+"\u4e2a["+E+"\u5c42]\u53d8\u7740"+(e.length>c?"\uff0c\u8fd8\u6709"+(e.length-c)+"\u4e2a\u53d8\u7740\u672a\u80fd\u5bfc\u51fa":"")+"</div>"+(21<c?'<a href="javascript:getTEXT(2)">\u70b9\u6b64\u590d\u5236\u53ef\u7c98\u8d34\u5230word\u4e2d\u7684\u5e26\u5708\u6570\u5b57\u6587\u672c\uff0c\u7535\u8111\u89c2\u770b\u9700\u5b89\u88c5cNumber2\u5b57\u4f53</a>':
""))}else tree="",c=100;f=getvar("comment0_0").replace(/(^\s*)|(\s*$)/gi,"").replace(/^\u3000*/gi,"").replace(/[\r\n]+/gi,"||").replace(/\s*\|\|\s*/gi,"||"+f).replace(/\|\|/gi,"\r\n");""!=f&&(f="    "+f+"\r\n");E=(p+z+f+tree.replace(/    \{([rnbakcp\d]{1,9}\/){9}[rnbakcp\d]{1,9}( [rb])?\}\r\n/gi,"")+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210").replace(/^\s*/gi,"");if(2!=a||21>=c)sText.value=E,sText1.value=E;2==a&&($("cNumberDIV").innerHTML='<iframe style="width:'+(.8*wm-6)+"px;height:"+
(hm-lh-lh-lh-lh-3)+'px;" id="cNumberCOPY" frameborder="1" marginwidth="0" marginheight="0"></iframe><br>'+(NS.IE?"\u590d\u5236\u6210\u529f\uff0c\u8bf7\u7acb\u5373\u7c98\u8d34\u5230word\u4e2d\u4fdd\u5b58":"\u975eIE\u6838\u5fc3\u6d4f\u89c8\u5668\uff0c\u8bf7\u81ea\u5df1\u52a8\u624b\u590d\u5236"),a=$("cNumberCOPY").contentWindow,a.document.open(),a.document.writeln("<html><body></body></html>"),a.document.close(),document.all?a.document.body.contentEditable=!0:a.document.designMode="on",a.document.body.innerHTML=
E.replace(/  /gi,"\u3000").replace(/\r\n /gi,"<br>&nbsp;").replace(/\r\n/gi,"<br>"),NS.IE&&(a.document.body.createTextRange().select(),a.document.execCommand("copy")));isSP&&(E=parent.search_end_pos.$("imgs"))&&(E.innerHTML=(p+z+f+tree+" \r\n\u68cb\u8c31\u7531 http://www.dpxq.com/ \u751f\u6210").replace(/^\s*/gi,"").replace(/  /gi,"\u3000").replace(/\r\n /gi,"<br>&nbsp;").replace(/\r\n/gi,"<br>"))}}
function TreeSet(a,b){var c;if(0==a)document.treetxt.style.display="none";else if(1==a)document.treetxt.style.display="",getTEXT("");else{document.treetxt.elements[a].value=b;for(c=0;4>c;c++)$(a+c).style.color="";$(a+b).style.color="#00f"}}
function getTree(a,b,c,d,e,g,h,k,l,q,n,t,m,f,A,C,z,D){if(!(999<c||b>=e)){var w=a.split("_"),p=getvar("move_"+a).replace(/^((\d{4})+).*$/gi,"$1").substr(4*(c+1-w[1]));if(""!=p){var y=p.length/4,E=getMovelistString(p,d),H=d,u="",G="",I="",F,v=c,K=v-v%2;d="_"+d.replace(/(\d\d)/gi,"$1_");1==v%2&&(u+="\r\n"+((""==z?(v+v%2)/2:v)+".  ").substr(0,4)+"\u2026\u2026\u2026\u2026"+n+"  ");for(c=1;c<=y;c++){u=0==v%2?u+"\r\n":u+t;v++;u+=1==v%2?((""==z?(v+v%2)/2:v)+".  ").substr(0,4):""==z?"":(v+".  ").substr(0,
4);u+=E.substr(4*c-4,4)+n;if("m"==havevar(w[2],v)){var J=eval("/\\[(DhtmlXQ_move_("+w[2]+"_"+v+"_[1-9]\\d*))\\]\\d{4}.*\\[\\/\\1\\]/gi");var x=UBB.match(J);G+=k+"*\u7b2c "+("  "+(""==z?(v+v%2)/2:v)+"  ").match(/( \d |\d\d |\d\d\d)/gi)[0]+(""==z?" \u56de\u5408"+(0==v%2?"\u9ed1":"\u7ea2"):" \u7740")+": \u6709";for(F=0;F<x.length;F++)x[F]=x[F].replace(J,"$2"),u+="{{$"+x[F].split("_")[2]+"}}",G+=(0==F?"":"\u3001")+"[\u53d8{$"+x[F].split("_")[2]+"}-{$"+w[2]+"}-"+(""==z?(x[F].split("_")[1]-0+x[F].split("_")[1]%
2)/2:x[F].split("_")[1])+"]",0==D?I+="||"+x[F]+"|"+(b+1)+"|"+(v-1)+"|"+d.replace(/_/gi,""):getTree(x[F],b+1,v-1,d.replace(/_/gi,""),e,g,h,k,l,q,n,t,m,f,A,C,z);G+="\r\n"}else u+=" ";x=getvar("comment"+w[2]+"_"+v).replace(/(^\s*)|(\s*$)/gi,"").replace(/^\u3000*/gi,"").replace(/[\r\n]+/gi,"||").replace(/\s*\|\|\s*/gi,"||"+A);""!=x?-1!=x.search(/^[\!\uFF01][\!\?\,\.\s\u3000\uFF01\uFF1F\uFF0C\u3002]*$/gi)?u+="!":-1!=x.search(/^[\?\uFF1F][\?\!\,\.\s\u3000\uFF1F\uFF01\uFF0C\u3002]*$/gi)?u+="?":2==g?(x="$$"+
x+"$$",u=x.replace(/[^\x00-\xff]/gi,"xx").length-4>C[(v-K)%(2*h)]?u+("\r\n$\r\n$\r\n$\r\n\r\n"+A+x+"\r\n\r\n"):u+(" "+(0==v%2?q:t)+A+x+"\r\n\r\n"),K=v-v%2,1==v%2&&c!=y&&(u+=((""==z?(v+v%2)/2:v)+".  ").substr(0,4)+"\u2026\u2026\u2026\u2026"+n+"  ")):1==g?(x="$$"+x+"$$",c==y?u=x.replace(/[^\x00-\xff]/gi,"xx").length-4>C[(v-K)%(2*h)]?u+("\r\n$\r\n$\r\n$\r\n\r\n"+A+x+"\r\n\r\n"):u+(" "+(0==v%2?q:t)+A+x+"\r\n\r\n"):0==v%2?u+="\r\n$\r\n$\r\n$\r\n\r\n"+A+x+"\r\n":(u+="\r\n$\r\n$\r\n$\r\n\r\n"+A+x+"\r\n\r\n",
u+=((""==z?(v+v%2)/2:v)+".  ").substr(0,4)+"\u2026\u2026\u2026\u2026"+n+"  "),K=v-v%2):(u+=m,G+=k+"*\u7b2c "+("  "+(""==z?(v+v%2)/2:v)+"  ").match(/( \d |\d\d |\d\d\d)/gi)[0]+(""==z?" \u56de\u5408"+(0==v%2?"\u9ed1":"\u7ea2"):" \u7740")+": "+x+"\r\n"):u+=" ";x="_"+p.substr(4*c-4,2)+"_";J="_"+p.substr(4*c-2,2)+"_";0<=d.indexOf(J)&&(d=d.replace(J,"_99_"));d=d.replace(x,J)}u=(u+"\r\n$\r\n$\r\n$\r\n").replace(/(&(nb|en)sp;|\u2002)/gi," ");2==h?u=u.replace(/(.+)\r\n(.+)\r\n/gi,"$1"+q+"$2\r\n"):3==h&&(u=
u.replace(/(.+)\r\n(.+)\r\n(.+)\r\n/gi,"$1"+q+"$2"+q+"$3\r\n"));u=u.replace(/\$\$/gi,"").replace(/[ \r\n]*\$[ \r\n]+\$[ \r\n]+\$\r\n/gi,"\r\n");0==g?G=G.replace(/\|\|/gi,"\r\n"):u=u.replace(/\|\|/gi,"\r\n");0<g&&(u=u.replace(/(\r\n)+/gi,"\r\n"));u=u.replace(/(.+)\r\n/gi,k+"$1"+l+"\r\n");"0_1_0"!=a&&(u="\r\n    {"+getFENTEXT(H.replace(/\_/gi,""))+"}"+u);tree[b]||(tree[b]="");tree[0==D?0:b]+=" \r\n\u3010\u53d8{$"+w[2]+"}-{$"+w[0]+"}-"+(""==z?(w[1]-0+w[1]%2)/2:w[1])+"\u3011"+u+(""==G?"":"\r\n")+G;if(""!=
I&&1!=D)for(I=I.split("||"),F=1;F<I.length;F++)x=I[F].split("|"),getTree(x[0],x[1]-0,x[2]-0,x[3],e,g,h,k,l,q,n,t,m,f,A,C,z,D)}}}
function getIMGTEXT(a){var b,c=tQZ.split(""),d=(isNaN(a)?getpos().join(""):-1==(""+a).search(/^\d{64}$/gi)?P[a]:a).split(""),e="abababab\uff3cb\uff0fbabababaabababab\uff0fb\uff3cbabababaabababababababababaabababababababababaabaaaaaaaaaaaaaaaba".replace(/a/gi,"\u3000").replace(/b/gi,"\u2502").match(/.{19}/gi);e[5]=e[2];e[6]=e[2];e[7]=e[0];e[8]=e[1];e[9]="";var g=" \u250c-aaaaaaa-\u2510 fdbbb-\u203b-bbbefdbbbbbbbefdbbbbbbbefdcccccccefdaaaaaaaefdbbbbbbbefdbbbbbbbefdbbb-\u203b-bbbef \u2514-ccccccc-\u2518 f".replace(/f/gi,"xxx").replace(/a/gi,
"-\u252c-").replace(/b/gi,"-\u253c-").replace(/c/gi,"-\u2534-").replace(/d/gi," \u251c-").replace(/e/gi,"-\u2524 ").match(/(.{3})/gi);for(b=0;32>b;b++)9>d[2*b]&&(g[d[2*b+1]+""+d[2*b]-0]=(16>b?"(":"[")+c[b]+(16>b?")":"]"));g=g.join("").split("xxx");c="aaaaaaaa \u9ed1\u65b9aaaaaaaa \r\naaaaaaaaaaaaaaaaaaa";for(b=0;10>b;b++)c+="\r\n "+g[b]+" \r\n"+e[b];c=(c+"aaaaaaaaaaaaaaaaaaa\r\naaaaaaaa \u7ea2\u65b9aaaaaaaa \r\n").replace(/(  |a)/gi,"\u3000").replace(/\-\-/gi,"\u2500").replace(/\u4ED5/gi,"\u58eb");
if("xqstudio"==a)sText.value=c,copycode(sText,1);else if(isNaN(a))sText.value=c;else return c}
function getFENTEXT(a){var b,c=(""+a).search(/^\d{64}$/gi),d=(-1==c?getpos().join(""):a).split(""),e=("Paiendgame"==a?"rnebkbenrccpppppRNEBKBENRCCPPPPP":"RNBAKABNRCCPPPPPrnbakabnrccppppp").split(""),g="          ".replace(/ /gi,"111111111/").split("");for(b=0;32>b;b++)9>d[2*b]&&(g[d[2*b+1]+""+d[2*b]-0]=e[b]);g=g.join("").substr(0,99).replace(/111111111/g,"9").replace(/11111111/g,"8").replace(/1111111/g,"7").replace(/111111/g,"6").replace(/11111/g,"5").replace(/1111/g,"4").replace(/111/g,"3").replace(/11/g,
"2");g+=1==(nnum+getRB())%2?" b":" r";if("Paiendgame"==a)g=g.replace(/ r$/gi,"").replace(/ b$/gi,"0").replace(/\//gi,"")+(isTurn?":":""),12<g.replace(/[^rncp]/gi,"").length?showalert("<br>\u60a8\u5e94\u8be5\u5728\u53cc\u65b9\u653b\u5b50\u5c11\u4e8e4\u4e2a\u65f6\u518d\u641c\u7d22"):window.open("http://lpforth.forthfreak.net/xiangqi-js/xiangqi.htm?"+g,"DPXQ_TO_PAI","");else if("coffeecc"==a)window.open(SURL+"coffeecc.htm#"+g,"","");else{if(-1!=c)return g;sText.value=g;null!=a&&copycode(sText,1)}}
function getXQSJTEXT(a){var b="11 12 13 14 15 9 10 1 7 0 8 2 6 3 5 4 27 28 29 30 31 25 26 17 23 16 24 18 22 19 21 20".split(" "),c,d="",e=getpos();for(c=0;32>c;c++)d+=0<=e[b[c]]-90?"0 ":52+16*(e[b[c]].substr(1,1)-0)+(e[b[c]].substr(0,1)-0)+" ";d+=1==(nnum+getRB())%2?"+B":"+R";sText.value=d;null!=a&&copycode(sText,1)}function getRB(){return 48<=(P[0].replace(/(\d\d)/gi,"_$1")+"_").indexOf("_"+move.substr(0,2)+"_")?1:0}
function getBinit(a){var b="",c;if("object"!=typeof window.clipboardData)showalert("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u4ece\u526a\u8d34\u677f\u4e2d\u7c98\u8d34\u6570\u636e\uff0c\u56e0\u6b64\u65e0\u6cd5\u4f7f\u7528\u672c\u529f\u80fd");else{var d=window.clipboardData.getData("Text");if("xqqb"==a){b=d.match(/([rnbakcp\d]{1,9}\/){9}[rnbakcp\d]{1,9}( [rb])?/gi);if(null==b){showalert("\u4e0d\u662fFEN\u5c40\u9762\u4e32");return}b=b[0].replace(/9/g,"111111111").replace(/8/g,"11111111").replace(/7/g,
"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11").substr(0,99);d="rnbakabnrccpppppRNBAKABNRCCPPPPP".split("");for(c=0;31>=c;c++)a=d[c],d[c]=(100+b.indexOf(d[c])).toString().replace(/.*(\d\d)$/gi,"$1").split("").reverse().join(""),b=b.replace(a,"1");b=d.join("").replace(/(\d{32})(\d{32})/gi,"$2$1")}else if("xqsj"==a){b=d.match(/(\d{2,3} |0 ){32}/gi);if(null==b){showalert("\u4e0d\u662f\u8c61\u68cb\u4e16\u5bb6\u5c40\u9762\u4e32");return}d=
[52,68,84,100,116,132,148,164,180,196];for(c=1;9>=c;c++)for(a=0;9>=a;a++)d[10*c+a]=(1E3+d[a]+c).toString().substr(1);d[0]="052";d[1]="068";d[2]="084";d[99]="000";d=" "+d.join(" ")+" ";b=b[0].split(" ");a="9 7 11 13 15 14 12 8 10 5 6 0 1 2 3 4 25 23 27 29 31 30 28 24 26 21 22 16 17 18 19 20".split(" ");for(c=0;32>c;c++)b[c]=d.indexOf(" "+("000"+b[c]).replace(/.*(.{3})/gi,"$1")+" ")/4;for(c=0;32>c;c++)a[c]=("00"+b[a[c]]).replace(/.*(.{2})/gi,"$1");b=a.join("")}else if("xqstudio"==a){b=d.match(/PARAM +NAME=['"]?position['"]? +VALUE=['"]?(([a-i][0-9]|\-\-)(,|\|)){31}([a-i][0-9]|\-\-)['"]?/gi);
null==b&&(b=d.match(/PARAM +VALUE=['"]?(([a-i][0-9]|\-\-)(,|\|)){31}([a-i][0-9]|\-\-)['"]? +NAME=['"]?position['"]?/gi));if(null!=b)for(b=b[0].toLowerCase().match(/(([a-i][0-9]|\-\-)(,|\|)){31}([a-i][0-9]|\-\-)/gi),b=b[0].replace(/,|\|/gi,"").replace(/\-/gi,"0").toLowerCase().split(""),a="9876543210012345678".split(""),c=0;64>c;c++)b[c]=a["0123456789abcdefghi".indexOf(b[c])];else{var e="";d=d.replace(/\xBA\xEC/gi,"\u7ea2").replace(/\xBA\xDA/gi,"\u9ed1").replace(/\xB7\xBD/gi,"\u65b9").replace(/\xB3\xB5/gi,
"\u8f66").replace(/\xC2\xED/gi,"\u9a6c").replace(/\xC5\xDA/gi,"\u70ae").replace(/\xCF\xE0/gi,"\u76f8").replace(/\xCF\xF3/gi,"\u8c61").replace(/\xCA\xBF/gi,"\u58eb").replace(/\xCB\xA7/gi,"\u5e05").replace(/\xBD\xAB/gi,"\u5c06").replace(/\xB1\xF8/gi,"\u5175").replace(/\xD7\xE4/gi,"\u5352").replace(/\xA1\xA1/gi,"\u3000").replace(/\xA9\xA6/gi,"\u2502").replace(/\xA9\xC0/gi,"\u251c").replace(/\xA9\xA4/gi,"\u2500").replace(/\xA9\xD8/gi,"\u2534").replace(/\xA3\xDC/gi,"\uff3c").replace(/\xA3\xAF/gi,"\uff0f").replace(/\xA9\xE0/gi,
"\u253c").replace(/\xA1\xF9/gi,"\u203b").replace(/\xA9\xC8/gi,"\u2524").replace(/\xA9\xD0/gi,"\u252c").replace(/\xA9\xB4/gi,"\u2510").replace(/\xA9\xB0/gi,"\u250c").replace(/\xA9\xBC/gi,"\u2518").replace(/\xA9\xB8/gi,"\u2514");d=d.replace(/\r?\n|<br>/gi,"||").replace(/\u3000{19}\|\|/gi,"").replace(/(\-|&(nb|en)sp;|\u2002)/gi," ").replace(/[\u3000\u2502\u251C\u2500\u2534\uFF3C\uFF0F\u253C\u203B\u2524\u252C\u2510\u250C\u2518\u2514]/gi,"  ");d=d.match(/( (\[[\u8F66\u9A6C\u8C61\u58EB\u5C06\u70AE\u5352]\]|\([\u5175\u70AE\u8F66\u9A6C\u76F8\u58EB\u5E05]\)|    ){9} \|\|){19}/gi);
if(null==d){showalert("\u4e0d\u662f\u8c61\u68cb\u6f14\u64ad\u5ba4\u6587\u672c\u68cb\u56fe");return}d=d[0].match(/ (\[[\u8F66\u9A6C\u8C61\u58EB\u5C06\u70AE\u5352]\]|\([\u5175\u70AE\u8F66\u9A6C\u76F8\u58EB\u5E05]\)|    ){9} \|\|/gi);for(c=0;c<d.length;c+=2)e+=d[c].substring(1,d[c].length-3).replace(/    /gi," \u3000 ")+"|\u3000\n";b="(\u8f66) (\u9a6c) (\u76f8) (\u58eb) (\u5e05) (\u58eb) (\u76f8) (\u9a6c) (\u8f66) (\u70ae) (\u70ae) (\u5175) (\u5175) (\u5175) (\u5175) (\u5175) [\u8f66] [\u9a6c] [\u8c61] [\u58eb] [\u5c06] [\u58eb] [\u8c61] [\u9a6c] [\u8f66] [\u70ae] [\u70ae] [\u5352] [\u5352] [\u5352] [\u5352] [\u5352]".split(" ");
for(c=0;32>c;c++)a=(1E3+e.indexOf(b[c])/3).toString(),1E3>a&&(a="1099"),e=e.replace(eval("/"+b[c].replace(/([\[\]\(\)])/gi,"\\$1")+"/i")," \u3000 "),b[c]=a.substr(3,1)+a.substr(2,1)}b=b.join("")}DrawPOS(b);setBinit(1)}}
function setBinit(a){isTurn&&turnBoard();isMirror&&mirrorBoard();1==a?(hideSearch(),hideSource()):2==a?DrawPOS(B.replace(/./gi,"9")):3==a&&DrawPOS(B);UBB=UBB.replace(/\[DhtmlXQ_(binit|move\w+|comment\w+)\].*\[\/DhtmlXQ_\1\]/gi,"")+"[DhtmlXQ_move_0_1_0][/DhtmlXQ_move_0_1_0]\r\n[DhtmlXQ_binit]"+getpos(1)+"[/DhtmlXQ_binit]";UpData();initdata()}
function addQizi(a){AllowAdd=32;var b=a.split("_");for(a=0;a<b.length;a++)parseInt($("z"+b[a]).style.left)==10*qgdx&&parseInt($("z"+b[a]).style.top)==9*qgdx&&(AllowAdd=b[a]);32==AllowAdd&&showalert("\u68cb\u76d8\u4e0a\u4e0d\u7f3a\u5c11\u8fd9\u79cd\u68cb\u5b50")}
function EditComment(a){if(isAddMove)showalert("\u76ee\u524d\u5df2\u9000\u51fa[\u589e\u52a0\u7740\u6cd5]\u72b6\u6001"),$("e_comm").innerHTML="S\u1eeda b\u00ecnh lu\u1eadn",isAddMove=!1,ShowCommentText();else{a=a.value.replace(/\s+$/gi,"").replace(/  /gi,"\u3000").replace(/<\/?[a-z][^>\n]*>/gi,"").replace(/\[\/?DhtmlXQ(_\w+)?\]/gi,"").replace(/\r?\n/gi,"||");var b=sMI[nnum].split("_"),c=eval("/\\[(DhtmlXQ_comment"+b[2]+"_"+nnum+")\\].*\\[\\/\\1\\]/gi");UBB=UBB.replace(c,"");""!=a&&(UBB+="[DhtmlXQ_comment"+
b[2]+"_"+nnum+"]"+a+"[/DhtmlXQ_comment"+b[2]+"_"+nnum+"]");c=$("move_"+nnum).innerHTML.replace(/(&(nb|en)sp;|\u2002)/gi," ");$("move_"+nnum).innerHTML=Ch40((c.substr(0,8)+havecomment(b[2],nnum)+c.substr(9)).replace(/ /gi,"&nbsp;"));UpData();LiveMovePost("comment"+nnum+"$$$"+conv(a));1>nnum||(c=$("var_"+sMI[nnum]).innerHTML.replace(/(&(nb|en)sp;|\u2002)/gi," "),"<"!=c.substr(0,1)&&($("var_"+sMI[nnum]).innerHTML=Ch40((c.substr(0,9)+havecomment(b[2],nnum)+c.substr(10)).replace(/ /gi,"&nbsp;"))))}}
function conv(a){return unescape(escape(a).replace(/%u([0-9A-F]{4})/gi,"\\u$1"))}function unconv(a){return unescape(escape(a).replace(/(_|%5C|%5F|%25)u([0-9A-F]{4})/gi,"%u$2"))}function URLEscape(a){return escape(a).replace(/\%([8-9A-F][0-9A-F])/gi,"%u00$1")}
function getrefer(){var a=getvar("refer").split("%0D%0A");var b=unescape(a[0]).replace("http://","").replace(/<\/?\w+>/gi,"");a=2==a.length?unescape(a[1]).replace("http://","").replace(/<\/?\w+>/gi,""):isSP?"www.dpxq.com/bbs":"www.dpxq.com/hldcg/search";b=""!=b?"http://"+b:"http://www.dpxq.com";a=""!=a?"http://"+a:"http://www.dpxq.com/bbs";return'<div style="position:absolute;right:0;top:0;text-align:right;width:'+(19*fz+6)+';"><a href="javascript:copysurl()">\u590d\u5236\u5730\u5740</a>'+(isSP?' <a href="javascript:digg(1)">\u597d\u8bc4</a> <a href="javascript:digg(-1)">\u5dee\u8bc4</a> <a href="javascript:digg(0)">\u62a5\u9519</a> <a href="javascript:gEvent()">\u8d5b\u4e8b</a> <a href="javascript:SearchP(\'tree\')">\u53d8\u7740</a> <a href="javascript:SearchP(\'next\')">\u5bf9\u5c40</a>':
"")+'</div><div style="position:absolute;left:0;top:0;overflow:hidden;text-align:left;width:'+21*fz+';"><nobr><a href="javascript:getInfo()">\u6765\u6e90\u7f51\u7ad9</a>\uff1a<a href="'+SURL+"gourl.asp?site="+URLEscape(b)+"&url="+URLEscape(b)+'" style="color:#000;" target="_blank">'+b+'</a></nobr></div><br><nobr>\u53c2\u4e0e\u8ba8\u8bba\uff1a<a href="'+SURL+"gourl.asp?site="+URLEscape(b)+"&url="+URLEscape(a)+'" style="color:#000;" target="_blank">'+a+"</a></nobr>"}function gEvent(){}
function copysurl(){var a="",b="";if(isSP){var c="";isMirror?c="_"+nnum+"_"+sMI[nnum]+(isTurn?"_1":"_")+"_1":isTurn?c="_"+nnum+"_"+sMI[nnum]+"_1":"0_1_0"!=sMI[nnum]?c="_"+nnum+"_"+sMI[nnum]:0<nnum&&(c="_"+nnum);var d=getvar("viewurl").match(/owner=\w\&id=\d{1,9}/gi);null==d?showalert("\u53ea\u6709\u4e1c\u840d\u68cb\u8c31\u4ed3\u5e93\u4e2d\u4fdd\u5b58\u7684\u68cb\u8c31\u624d\u53ef\u590d\u5236\u5730\u5740"):(a=d[0].replace("owner=","_").replace("&id=","_")+c+".html",b="http://www.dpxq.com/hldcg/search/view"+
a,a=b+"\r\nhttp://m.dpxq.com/hldcg/search/view"+a)}else a=unescape(refer.split("%0D%0A")[1]);""!=a&&(c="",""!=getvar("title")&&(c+="\u6807\u9898: "+getvar("title")+"\r\n"),""!=getvar("event")&&(c+="\u8d5b\u4e8b: "+getvar("event")+"\r\n"),""!=getvar("round")&&(c+="\u8f6e\u6b21: "+getvar("round")+"\r\n"),""!=getvar("open")&&(c+="\u5e03\u5c40: "+getvar("open")+"\r\n"),sText.value=a+"\r\n"+c,copycode(sText,'\u5df2\u6210\u529f\u590d\u5236\u68cb\u8c31\u5730\u5740\u5230\u526a\u8d34\u677f\uff0c\u53ef\u70b9\u51fb\u4ee5\u4e0b\u7f51\u5740\u67e5\u770b\u6548\u679c<br><a href="'+
(b?b:a)+'" target="_blank" style="color:#00f">'+(b?b:a)+"</a>"))}function digg(a){showalert("\u53ea\u6709\u4e1c\u840d\u68cb\u8c31\u4ed3\u5e93\u4e2d\u4fdd\u5b58\u7684\u68cb\u8c31\u624d\u53ef\u63a8\u8350")}
function getMovelistString(a,b){var c,d="",e="          ".replace(/ /gi,"          ").replace(/ /gi,"99").match(/\d\d/gi);""==b&&(b=B);b=b.match(/\d{2}/gi);for(c=0;32>c;c++)e[b[c]-0]=(100+c+"").substr(1);var g=a.match(/\d{4}/gi);if(null==g)return"";var h=g.length;for(c=0;c<h;c++){var k=e[g[c].substr(0,2)-0];if(0<=k&&15>=k)d+=c_move(getMoveText(g[c],e,0));else if(16<=k&&31>=k)d+=c_move(getMoveText(g[c],e,1));else{d+="\u7740\u6cd5\u9519\u8bef";continue}e[g[c].substr(2,2)-0]=e[g[c].substr(0,2)-0];e[g[c].substr(0,
2)-0]="99"}return d}function c_move(a){var b="",c;for(c=0;4>c;c++){var d=a.charCodeAt(c)-49;b+="\uff32\uff28\uff25\uff25\uff21\uff21\uff2b\uff2b\uff23\u3000\u3000\u3000\u3000\u3000\u3000\u3000\uff30\uff30\uff11\uff11\uff12\uff12\uff13\uff13\uff14\uff14\uff15\uff15\uff16\uff16\uff17\uff17\uff18\uff18\uff19\uff19\uff0b\uff1d\uff0d\uff0b\uff0d.".charAt(d)}return b}
function getMoveText(a,b,c){var d,e=" ",g=" UW; UVW; UEGW; UEGIW;;; WU; WVU; WGEU; WIGEU".split(";"),h=a.charAt(0)-0,k=a.charAt(1)-0,l=a.charAt(2)-0,q=a.charAt(3)-0,n="12357532199AAAAA12468642199BBBBB".charAt(b[a.substr(0,2)-0]);if(0==c){var t=n+"CDEFGHIJKLMNOPQRST".charAt(2*(8-h));if("1"==n||"2"==n||"9"==n||"A"==n){for(d=0;9>=d;d++)a=b[10*h+d],16>a&&"12357532199AAAAA12468642199BBBBB".charAt(a)==n&&(e+=d);3<=e.length&&(t=g[e.length-3].charAt(e.indexOf(k)),4>=e.length&&"A"==n?(b=b.join("_")+"_",t+=
-1!=("|0"+b.indexOf("11_")/3+"|0"+b.indexOf("12_")/3+"|0"+b.indexOf("13_")/3+"|0"+b.indexOf("14_")/3+"|0"+b.indexOf("15_")/3+"|").match(/\|\d{2,3}/gi).join("").replace(/\|\d?(\d)\d/gi,"$1").replace(eval("/"+h+"/gi"),"").search(/(\d).*\1/gi)?"CDEFGHIJKLMNOPQRST".charAt(16-2*h):n):t+=n)}t=k==q?t+("Z"+"CDEFGHIJKLMNOPQRST".charAt(2*(8-l))):k>q?t+("X"+"CDEFGHIJKLMNOPQRST".charAt(1<n&&7>n?2*(8-l):2*(k-q-1)+c)):t+("Y"+"CDEFGHIJKLMNOPQRST".charAt(1<n&&7>n?2*(8-l):2*(q-k-1)+c))}else{t=n+"CDEFGHIJKLMNOPQRST".charAt(2*
h+c);if("1"==n||"2"==n||"9"==n||"B"==n){for(d=0;9>=d;d++)a=b[10*h+d],15<a&&32>a&&"12357532199AAAAA12468642199BBBBB".charAt(a)==n&&(e+=d);3<=e.length&&(t=g[e.length+3].charAt(e.indexOf(k)),4>=e.length&&"B"==n?(b=b.join("_")+"_",t+=-1!=("|0"+b.indexOf("27_")/3+"|0"+b.indexOf("28_")/3+"|0"+b.indexOf("29_")/3+"|0"+b.indexOf("30_")/3+"|0"+b.indexOf("31_")/3+"|").match(/\|\d{2,3}/gi).join("").replace(/\|\d?(\d)\d/gi,"$1").replace(eval("/"+h+"/gi"),"").search(/(\d).*\1/gi)?"CDEFGHIJKLMNOPQRST".charAt(2*
h+1):n):t+=n)}t=k==q?t+("Z"+"CDEFGHIJKLMNOPQRST".charAt(2*l+c)):k>q?t+("Y"+"CDEFGHIJKLMNOPQRST".charAt(1<n&&7>n?2*l+c:2*(k-q-1)+c)):t+("X"+"CDEFGHIJKLMNOPQRST".charAt(1<n&&7>n?2*l+c:2*(q-k-1)+c))}return t}
function LiveMain(){xmlok=0;LiveF5Index=LiveF5Time=60;LiveF5Title=0;LiveUpMove=LiveMove="";LiveMoveLen=0;AllowLive=!1;LiveComment=Array(999);LiveAdmin=getvar("liveadmin");LiveID=parseInt("0"+getvar("liveid").replace(/\D/gi,""),10);var a=location.href.search(/(live|room)=yes/gi);try{xmlok=new ActiveXObject("Msxml2.XMLHTTP"),xmlok=1}catch(b){try{xmlok=new ActiveXObject("Microsoft.XMLHTTP"),xmlok=2}catch(c){try{xmlok=new XMLHttpRequest,xmlok=3}catch(d){xmlok=0;showalert("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301xmlhttp\u7ec4\u4ef6\uff0c\u8bf7\u4f7f\u7528\u65b0\u7248\u672c\u6d4f\u89c8\u5668");
LiveAdmin=!1;return}}}$("livevartxt").innerHTML=Ch40("&nbsp;\u3000\u3000\u3000\u3000\u3000\u3000&nbsp;");$("livetimediv").innerHTML='<a href="javascript:LiveSpeed()">\u52a0\u901f\u5237\u65b0</a> <span id="livef5time">60</span> \u79d2';LiveF5=$("livef5time");0==LiveID?LiveAdmin=!1:"yes"==LiveAdmin?(LiveAdmin=!0,LiveMoveLen=lnum,LiveMove=move,AllowLive=!0):(isSP||($("showmini").value="\u91cd\u8fdb",$("showmini").style.color="#F00"),LiveAdmin=!1,AllowLive=!0,LiveMoveLen=lnum,LiveMove=move,isSP||-1!=
a?(a=getvar("other").match(/^\d{1,3}\.\d{1,9}/gi),null==a?(LiveF5Time=60,LiveF5Title=0):(a=a[0].split("."),LiveF5Time=a[0]-0,LiveF5Title=a[1]-0,10>LiveF5Time&&(LiveF5Time=10)),LiveF5Index=LiveF5Time+Math.ceil(10*Math.random()),LiveAuto()):LiveShow())}
function LiveShow(){clearInterval(Livetime);clearInterval(timer);var a="location.href='"+SURL.replace("www","live")+"view.asp?owner=u&id="+LiveID+"&f=999&z="+(fdbs+".00").replace(/\.(.*)\./gi,".$1").substr(0,4)+"."+wTitle+"&live=yes&refer="+refer+"'";showalert("\u76f4\u64ad\u7ba1\u7406\u5458\uff1a"+getvar("owner")+'<br><button onclick="clickYES()" style="margin-top:'+(hm-3*lh-2*fzt-fz)/2+"px;font-size:"+(fzt+fz)+"px;line-height:"+(fzt+2*fz)+"px;height:"+(2*fzt+fz)+"px;width:"+(.16*tWidth+12*fz)+'px;border-width:2px;">\u8fdb\u5165\u76f4\u64ad\u5ba4</button>|'+
a)}function LiveSpeed(){10>LiveF5Index||(LiveF5Index=LiveF5Index%10+1)}function LiveAuto(){Livetime=setInterval("AutoLiveMove()",1E3)}function LiveHttp(){var a=!1;1==xmlok?a=new ActiveXObject("Msxml2.XMLHTTP"):2==xmlok?a=new ActiveXObject("Microsoft.XMLHTTP"):3==xmlok&&(a=new XMLHttpRequest);return a}
function getLiveMove(){LiveF5Index=LiveF5Time+Math.ceil(10*Math.random());if(AllowLive){var a=LiveHttp();a&&(a.open("GET","/hldcg/chess/live/u_"+LiveID+"_move.html?room=yes&f="+lnum+"&rand="+Math.random(),!0),a.onreadystatechange=function(){if(4==a.readyState||"complete"==a.readyState)if(200==a.status)LiveUpMove=a.responseText.split("$"),LiveMoveGet();else{var b=Math.ceil(10*Math.random());900>LiveF5Time&&(LiveF5Index=LiveF5Time+=b);cText.value=a.status+" "+b}},a.send(null))}}
function LiveMoveGet(){if(AllowLive){var a=LiveUpMove[0].match(/(\.\d{1,3}){2,4}\.?$/gi);var b=LiveF5Time;null!=a&&(a=a[0].split("."),LiveF5Time=10>a[1]-0?10:a[1]-0,b!=LiveF5Time&&(LiveF5Index=LiveF5Time+Math.ceil(10*Math.random())),a[1]="",a=a.join("")-0,a>LiveF5Title&&(LiveF5Title=a,$("div1").innerHTML='<a href="javascript:LiveShow()">\u6807\u9898\u6216\u7ed3\u679c\u6709\u66f4\u65b0\uff0c\u8bf7\u70b9\u6b64\u91cd\u8fdb\u76f4\u64ad\u5ba4</a>'));for(a=1;a<LiveUpMove.length;a+=2)LiveComment[LiveUpMove[a]-
0]=LiveUpMove[a+1];LiveUpMove[0]=LiveUpMove[0].match(/\d{4}/gi);if(null==LiveUpMove[0])LiveMoveLen=0,LiveMove="";else{for(a=0;LiveMove.substr(4*a,4)==LiveUpMove[0][a];)a++;a<LiveMoveLen?(LiveMoveLen=a,LiveMove=LiveUpMove[0].slice(0,a).join("")):(LiveMoveLen=LiveUpMove[0].length,LiveMove=LiveUpMove[0].join(""))}}}
function AutoLiveMove(){LiveF5Index--;0>=LiveF5Index&&getLiveMove();LiveF5.innerHTML=10>LiveF5Index?"0"+LiveF5Index:LiveF5Index;"undefined"!=typeof LiveComment[nnum]&&(cText.value=unconv(LiveComment[nnum]).replace(/\|\|/gi,"\r\n"),sText1.value=cText.value);AllowLive&&nnum==lnum&&(LiveMoveLen>lnum?getMove(LiveMove.substr(4*nnum,4)):LiveMoveLen<lnum&&DelMove(LiveMoveLen))}
function LiveMovePost(a){if(LiveAdmin&&(nnum==lnum||"comment"==a.substr(0,7))){AllowLive=!1;LiveMoveLen=lnum;LiveMove=move;cText.value="\u6b63\u5728\u66f4\u65b0";sText1.value=cText.value;a="id="+LiveID+"&s="+a;var b=LiveHttp();b&&(b.open("POST","/hldcg/search/livepost.asp",!0),b.onreadystatechange=function(){if((4==b.readyState||"complete"==b.readyState)&&200==b.status){var a=unconv(b.responseText);"\u66f4\u65b0\u6210\u529f"==a?cText.value=a:(showalert(a),ShowCommentText());sText1.value=cText.value;
AllowLive=!0}},b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send(a),AllowLive=!0)}}
function UpMove(){var a=VarDIV.innerHTML,b=eval("/<div.+var_(\\d+_\\d+_\\d+).+>.*(\\d{1,3})\\.[^<]+/gi"),a=a.match(b),c,d=[],e=null==a?0:a.length;if(!(1>=e)){for(c=0;c<e&&(d[c]=a[c].replace(b,"$1"),sMI[nnum]!=d[c]);c++);if(0==c)showalert("\u4e3b\u7740\u6cd5\u4e0d\u80fd\u63d0\u5347");else if(c!=e){if(1==c){a=getvar("move_"+d[0]);d[0]=d[0].split("_");d[2]=a.substr(0,4*(nnum-d[0][1]));d[3]=a.substr(4*(nnum-d[0][1]));a=getvar("move_"+d[1]);d[1]=d[1].split("_");d[2]+=""+a;b=eval("/\\[(DhtmlXQ_move_"+d[1][2]+
"_\\d+_(\\d+))\\].*\\[\\/\\1\\]/gi");d[4]=UBB.match(b);null==d[4]?d[4]="":(UBB=UBB.replace(b,""),d[4]=eval('m[4].join("\\r\\n").replace(/DhtmlXQ_move_'+d[1][2]+'/gi,"DhtmlXQ_move_'+d[0][2]+'")'));UBB=eval("UBB.replace(/\\[(DhtmlXQ_comment"+d[1][2]+'(_\\d+))\\](.*)\\[\\/\\1\\]/gi,"[DhtmlXQ_comment\\t$2]$3[/DhtmlXQ_comment\\t$2]")');e=parseInt(d[3].length/4);for(c=0;c<e;c++)0<c&&(UBB=eval("UBB.replace(/\\[(DhtmlXQ_move_"+d[0][2]+"(_"+(nnum+c)+'_\\d+))\\](.*)\\[\\/\\1\\]/gi,"[DhtmlXQ_move_'+d[1][2]+
"$2]$3[/DhtmlXQ_move_"+d[1][2]+'$2]")')),UBB=eval("UBB.replace(/\\[(DhtmlXQ_comment"+d[0][2]+"(_"+(nnum+c)+'))\\](.*)\\[\\/\\1\\]/gi,"[DhtmlXQ_comment'+d[1][2]+"$2]$3[/DhtmlXQ_comment"+d[1][2]+'$2]")');UBB=eval('UBB.replace(/\\[(DhtmlXQ_comment\\t(_\\d+))\\](.*)\\[\\/\\1\\]/gi,"[DhtmlXQ_comment'+d[0][2]+"$2]$3[/DhtmlXQ_comment"+d[0][2]+'$2]")');d[0]=d[0].join("_");d[1]=d[1].join("_");for(c=nnum;sMI[c]==d[1];c++)sMI[c]=d[0],pMI[c]=d[0];if(pMI[c]==d[1]){d[6]=sMI[c];d[7]=sMI[c].replace(d[1].split("_")[2]+
"_",d[0].split("_")[2]+"_");pMI[c]=d[0];sMI[c]=d[7];for(c++;sMI[c]==d[6];c++)sMI[c]=d[7],pMI[c]=d[7];pMI[c]==d[6]&&(pMI[c]=d[7])}b=eval("/\\[(DhtmlXQ_move_"+d[0]+")\\].*\\[\\/\\1\\]/gi");UBB=UBB.replace(b,"[$1]\t[/$1]").replace("\t",d[2]);b=eval("/\\[(DhtmlXQ_move_"+d[1]+")\\].*\\[\\/\\1\\]/gi");UBB=UBB.replace(b,"[$1]\t[/$1]").replace("\t",d[3]);UBB+=d[4]}else a=getvar("move_"+d[c]),UBB=UBB.replace(eval("/\\[(DhtmlXQ_move_"+d[c]+")\\](.*)\\[\\/\\1\\]/gi"),"").replace(eval("/\\[(DhtmlXQ_move_"+d[c-
1]+")\\](.*)\\[\\/\\1\\]/gi"),"\t[$1]$2[/$1]").replace("\t","[DhtmlXQ_move_"+d[c]+"]"+a+"[/DhtmlXQ_move_"+d[c]+"]");UpData();ShowVarText()}}}
function DownMove(){var a=VarDIV.innerHTML,b=eval("/<div.+var_(\\d+_\\d+_\\d+).+>.*(\\d{1,3})\\.[^<]+/gi"),a=a.match(b),c,d=[],e=null==a?0:a.length;if(!(1>=e)){for(c=e-1;0<=c&&(d[c]=a[c].replace(b,"$1"),sMI[nnum]!=d[c]);c--);c!=-e&&(c==e-1?showalert("\u6700\u540e\u4e00\u4e2a\u53d8\u7740\u4e0d\u80fd\u964d\u4f4e"):0==c?(d[1]=a[1].replace(b,"$1"),get_movetext(d[0],d[1]),UpMove(),get_movetext(d[0],d[1])):(a=getvar("move_"+d[c]),UBB=UBB.replace(eval("/\\[(DhtmlXQ_move_"+d[c]+")\\](.*)\\[\\/\\1\\]/gi"),
"").replace(eval("/\\[(DhtmlXQ_move_"+d[c+1]+")\\](.*)\\[\\/\\1\\]/gi"),"[$1]$2[/$1]\t").replace("\t","[DhtmlXQ_move_"+d[c]+"]"+a+"[/DhtmlXQ_move_"+d[c]+"]"),UpData(),ShowVarText()))}}
function DelMove(a){if(isNaN(a))if(nnum==lnum&&sMI[nnum]==pMI[nnum])a=lnum-1;else{showalert("\u771f\u7684\u8981\u5220\u9664"+(sMI[nnum]==pMI[nnum]?"\u5230\u6b64\u5c40\u9762":"\u6b64\u53d8\u7740\u5206\u652f")+"\u4e48|DelMove("+nnum+")");return}a=a==lnum?a-1:a;if(!(0>a||a>lnum)){canauto=AllowLive=!1;if(sMI[nnum]!=pMI[nnum])DelTree(sMI[nnum]),get_movetext(pMI[nnum],pMI[nnum]),UpData();else if(-1!=MoveDIV.innerHTML.replace("move_"+(a+1),"|").split("|")[1].search(/m<\/div>/gi))setTimeout("del0()",100);
else{gotonum(a);var b=sMI[nnum].split("_")[2];for(a+=1;a<=lnum;a++)UBB=UBB.replace(eval("/\\[(DhtmlXQ_comment"+b+"_"+a+")\\](.*)\\[\\/\\1\\]/gi"),"");lnum=nnum;move=move.substr(0,4*nnum);$("shownow").value=nnum+"/"+lnum;MoveDIV.innerHTML=MoveDIV.innerHTML.match(/<div.+<\/div>/gi).slice(0,nnum+1).join("\r\n");sMI=sMI.slice(0,nnum+1);pMI=pMI.slice(0,nnum+1);b=eval("/\\[(DhtmlXQ_move_"+sMI[nnum]+")\\](.*)\\[\\/\\1\\]/gi");a=getvar("move_"+sMI[nnum]).substr(0,4*(nnum-(sMI[nnum].split("_")[1]-1)));UBB=
""==a&&"0_1_0"!=sMI[nnum]?UBB.replace(b,""):UBB.replace(b,"[$1]$MOVE[/$1]").replace("$MOVE",a);UpData();LiveMovePost("move$$$"+move)}canauto=AllowLive=!0}}function del0(){showalert("\u6b64\u53d8\u662f\u4e3b\u7740\u6cd5\uff0c\u8bf7\u5148\u5220\u9664\u672c\u6b65\u4e4b\u540e\u7684\u9644\u5c5e\u53d8\u7740")}
function DelTree(a){var b=eval("/\\[DhtmlXQ_move_("+a.split("_")[2]+"_\\d+_[1-9]\\d*)\\].*\\[\\/DhtmlXQ_move_\\1\\]/gi"),c,d=UBB.match(b);if(null!=d)for(c=0;c<d.length;c++)DelTree(d[c].replace(b,"$1"));b=eval("/\\[(DhtmlXQ_move_"+a+"|DhtmlXQ_comment"+a.split("_")[2]+"_\\d+)\\].*\\[\\/\\1\\]/gi");UBB=UBB.replace(b,"")}
function TXTtoDhtmlXQ(a){var b=a.value,c=b.match(eval("/\\[(DhtmlXQ_\\w+)\\].+"+REOK+"\\[\\/\\1\\]/gi"));if(null!=c)UBB=c.join("\n"),initdata();else{var d="",e="",g=nnum,h="\u4ece\u6ce8\u89e3\u4e2d\u63d0\u53d6\u7684\u7740\u6cd5\u5982\u4e0b\uff0c\u6b64\u65f6\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u7740\u6cd5\uff0c\u7136\u540e\u518d\u6b21\u70b9\u51fb[\u6dfb\u52a0\u7740\u6cd5]\u94fe\u63a5\uff0c\u5c06\u81ea\u52a8\u6dfb\u52a0\u7bad\u5934\u4e4b\u540e\u7684\u4e2d\u6587\u7740\u6cd5\u5230\u68cb\u8c31\u4e2d";isAddMove?
(c=b.split("<--"),h=c[0],1<c.length&&(b=c[1])):$("e_comm").innerHTML="\u8fd4\u56de\u5e38\u6001";b=b.replace(/[\u8ECA\u4F21\u7817\u4FE5\u7868]/gi,"\u8f66").replace(/[\u99AC\u508C]/gi,"\u9a6c").replace(/\u5E25/gi,"\u5e05").replace(/\u5C07/gi,"\u5c06").replace(/\u5F8C/gi,"\u540e").replace(/\u9032/gi,"\u8fdb").replace(/[\u5305\u7832]/gi,"\u70ae");b=b.replace(/1/gi,"\uff11").replace(/2/gi,"\uff12").replace(/3/gi,"\uff13").replace(/4/gi,"\uff14").replace(/5/gi,"\uff15").replace(/6/gi,"\uff16").replace(/7/gi,
"\uff17").replace(/8/gi,"\uff18").replace(/9/gi,"\uff19");var k="RNBAKABNRCCPPPPPrnbakabnrccppppp".split("");for(c=0;10>c;c++)BPos[c]="          ".split("");for(c=0;32>c;c++)BPos[P[nnum].substr(2*c,1)-0][P[nnum].substr(2*c+1,1)-0]=k[c];var c="\u4e00\uff11\u4e8c\uff12\u4e09\uff13\u56db\uff14\u4e94\uff15\u516d\uff16\u4e03\uff17\u516b\uff18\u4e5d\uff19 \u8f66\u9a6c\u70ae\u76f8\u8c61\u4ed5\u58eb \u5e05\u5c06 \u5175\u5352 \u524d\u540e \u4e2d\u4e00\u4e8c\u4e09\u56db\u4e94 \u8fdb\u9000\u5e73".split(" "),
l=b.match(new RegExp("(["+c[1]+c[2]+c[3]+"]["+c[0]+"]|["+c[4]+"]["+c[1]+"]|["+c[4]+c[5]+"]["+c[3]+c[0]+"])["+c[6]+"]["+c[0]+"]","ig"));if(null==l)showalert("\u7bad\u5934[<--]\u4e4b\u540e\u65e0\u6709\u6548\u4e2d\u6587\u7740\u6cd5\uff0c\u60a8\u53ef\u4ee5\u7c98\u8d34\u65b0\u4e2d\u6587\u7740\u6cd5\u540e\u518d\u70b9\u51fb[\u6dfb\u52a0\u7740\u6cd5]\u94fe\u63a5\u6216\u70b9\u51fb[\u8fd4\u56de\u5e38\u6001]\u94fe\u63a5\u8fd4\u56de\u6b63\u5e38\u72b6\u6001"),a.value=h+"<--\r\n",isAddMove=!0;else if(a.value=h+
"<--\r\n"+l.join("\r\n"),isAddMove){for(b=c=0;c<l.length;c++)if(k=get_MS(l[c],0==(g+c)%2?-1:1),4==k.length)1==b?d+=k:(k==move.substr(4*nnum,4)?gotonum("Next"):getMove(k),nnum==lnum&&(b=1));else{showalert((0==k?"\u6b64\u6b65\u68cb["+l[c]+"]\u4e0d\u7b26\u5408\u884c\u68cb\u89c4\u5219":k)+"<br>\u6b64\u65f6\u60a8\u4e5f\u53ef\u4ee5\u624b\u52a8\u8d70\u68cb\uff0c\u5220\u6389\u9519\u8bef\u7740\u6cd5\u518d\u7ee7\u7eed");break}0<c&&(a.value=h+"\r\n"+l.slice(0,c).join("\r\n")+"<--\r\n"+l.slice(c).join("\r\n"));
if(""!=d){a=sMI[nnum];g=getMovelistString(d,P[nnum]);UBB=UBB.replace(eval("/\\[(DhtmlXQ_move_"+a+")\\](.*)\\[\\/\\1\\]/gi"),"[$1]$2$MOVE[/$1]").replace("$MOVE",d);UpData();move+=d;lnum=nnum+d.length/4;c=nnum+1;for(b=(nnum+nnum%2)/2;c<=lnum;c++)sMI[c]=a,pMI[c]=a,e+='\r\n<div id="move_'+c+'" onmouseup="gotonum('+c+')">',1==c%2?(b++,e+=100<=b?b+".":10<=b?"&nbsp;"+b+".":"&nbsp;&nbsp;"+b+"."):e+="&nbsp;&nbsp;&nbsp;&nbsp;",e+=g.substr(4*(c-1-nnum),4)+havecomment(0,c)+havevar(0,c)+"</div>";MoveDIV.innerHTML+=
Ch40(e);gotonum("Last")}}else isAddMove=!0}}
function get_MS(a,b){var c=1==b?-1:9,d,e="",g="",h="",k="";if(-1<"\u524d\u4e2d\u540e\u4e00\u4e8c\u4e09\u56db\u4e94".indexOf(a.charAt(0))&&-1<"\u5175\u5352".indexOf(a.charAt(1))){var l=1==b?"p":"P";for(d=0;9>d;d++)-1!=BPos[d].join("").search(eval("/.*"+l+".*"+l+".*/g"))&&(e+=d);if(2<=e.length)return"\u542b\u6709"+(1==b?"\u9ed1\u5352":"\u7ea2\u5175")+"\u8fbe\u52302\u4e2a\u7684\u7eb5\u5217\u5df2\u8d85\u8fc71\u5217";if(0==e.length)return"\u6ca1\u6709\u4efb\u4f55\u5217"+(1==b?"\u9ed1\u5352":"\u7ea2\u5175")+
"\u8fbe\u52302\u4e2a";var q=e;e=BPos[q].join("").split(l);if(4>=e.length)if("\u524d"==a.charAt(0)&&-1==b||"\u540e"==a.charAt(0)&&1==b)g=e[0].length;else if("\u524d"==a.charAt(0)&&1==b||"\u540e"==a.charAt(0)&&-1==b)g=9-e[e.length-1].length;else if("\u4e2d"==a.charAt(0)&&4==e.length)g=e[0].length+1+e[1].length;else return 0;else if(5==e.length){if("\u4e2d"==a.charAt(0)||"\u4e94"==a.charAt(0))return 0;a=a.replace("\u524d","\u4e00").replace("\u540e","\u56db");d=change_cols(a.charAt(0));-1==b?g=e.slice(0,
d).join(" ").length:1==b&&(g=e.slice(0,5-d).join(" ").length)}else 6==e.length&&(a=a.replace("\u524d","\u4e00").replace("\u4e2d","\u4e09").replace("\u540e","\u4e94"),d=change_cols(a.charAt(0)),-1==b?g=e.slice(0,d).join(" ").length:1==b&&(g=e.slice(0,6-d).join(" ").length))}else if(-1<"\u524d\u4e2d\u540e".indexOf(a.charAt(0))&&-1<"\u4e00\uff11\u4e8c\uff12\u4e09\uff13\u56db\uff14\u4e94\uff15\u516d\uff16\u4e03\uff17\u516b\uff18\u4e5d\uff19".indexOf(a.charAt(1))){l=1==b?"p":"P";q=c+b*change_cols(a.charAt(1));
for(d=0;9>d;d++)-1!=BPos[d].join("").search(eval("/.*"+l+".*"+l+".*/g"))&&(e+=d);if(2==e.length&&0<=e.indexOf(q))if(e=BPos[q].join("").split(l),"\u524d"==a.charAt(0)&&-1==b||"\u540e"==a.charAt(0)&&1==b)g=e[0].length;else if("\u524d"==a.charAt(0)&&1==b||"\u540e"==a.charAt(0)&&-1==b)g=9-e[e.length-1].length;else if("\u4e2d"==a.charAt(0)&&4==e.length)g=e[0].length+1+e[1].length;else return"\u7b2c"+a.charAt(1)+"\u5217"+(1==b?"\u9ed1\u5352":"\u7ea2\u5175")+"\u6ca1\u6709\u8fbe\u52303\u4e2a";else return"\u6ca1\u6709\u53cc\u5217"+
(1==b?"\u9ed1\u5352":"\u7ea2\u5175")+"\u8fbe\u52302\u4e2a"}else if(-1<"\u524d\u540e".indexOf(a.charAt(0))&&-1<"\u8f66\u9a6c\u70ae\u76f8\u8c61\u4ed5\u58eb".indexOf(a.charAt(1))){l=change_name(a.charAt(1));1==b&&(l=l.toLowerCase());for(d=0;9>d&&-1==BPos[d].join("").search(eval("/.*"+l+".*"+l+".*/g"));d++);if(9==d)return"\u672a\u53d1\u73b0\u4efb\u4f55\u5217\u6709\u4e24\u4e2a"+(1==b?"\u9ed1":"\u7ea2")+a.charAt(1);q=d;g="\u524d"==a.charAt(0)&&-1==b||"\u540e"==a.charAt(0)&&1==b?BPos[q].join("").indexOf(l):
BPos[q].join("").lastIndexOf(l)}else if(-1<"\u8f66\u9a6c\u70ae\u5175\u5352\u76f8\u8c61\u4ed5\u58eb\u5e05\u5c06".indexOf(a.charAt(0))&&-1<"\u4e00\uff11\u4e8c\uff12\u4e09\uff13\u56db\uff14\u4e94\uff15\u516d\uff16\u4e03\uff17\u516b\uff18\u4e5d\uff19".indexOf(a.charAt(1)))if(l=change_name(a.charAt(0)),1==b&&(l=l.toLowerCase()),q=c+b*change_cols(a.charAt(1)),e=BPos[q].join("").split(l),2==e.length)g=e[0].length;else if(3==e.length&&-1<"\u76f8\u8c61\u4ed5\u58eb".indexOf(a.charAt(0)))g="\u8fdb"==a.charAt(2)&&
-1==b||"\u9000"==a.charAt(2)&&1==b?9-e[2].length:e[0].length;else return"\u68cb\u76d8\u7b2c["+a.charAt(1)+"]\u5217\u6709["+(e.length-1)+"]\u4e2a"+(1==b?"\u9ed1":"\u7ea2")+"["+a.charAt(0)+"]";else return 0;q-=0;g-=0;e=q;var n=g;d="AaBbNnRCPKrcpk".indexOf(l);if(5<d)"\u5e73"==a.charAt(2)?(h=c+b*change_cols(a.charAt(3)),k=g):(h=q,k=g+("\u8fdb"==a.charAt(2)?1:-1)*b*change_cols(a.charAt(3)));else{if("\u5e73"==a.charAt(2))return 0;if(3<d){h=c+b*change_cols(a.charAt(3));d=Math.abs(q-h);if(1>d||2<d)return 0;
k=g+("\u8fdb"==a.charAt(2)?1:-1)*b*(3-d)}else if(-1<d){h=c+b*change_cols(a.charAt(3));d=1<d?2:1;if(Math.abs(q-h)!=d)return 0;k=g+("\u8fdb"==a.charAt(2)?1:-1)*d*b}}return 0<=k&&9>=k?(BPos[h][k]=l,BPos[e][n]=" ",""+e+n+h+k):"\u6b64\u6b65\u68cb["+a+"]\u5c06\u8dd1\u51fa\u68cb\u76d8\u4e4b\u5916"}function change_cols(a){a="\u4e00\uff11\u4e8c\uff12\u4e09\uff13\u56db\uff14\u4e94\uff15\u516d\uff16\u4e03\uff17\u516b\uff18\u4e5d\uff19".indexOf(a);return 1+(a-a%2)/2}
function change_name(a){return"RNCBBAAKKPP".charAt("\u8f66\u9a6c\u70ae\u76f8\u8c61\u4ed5\u58eb\u5e05\u5c06\u5175\u5352".indexOf(a))}function execLoad(){initboard();initdata();TT[1]=Number(new Date)}isSP||"edit"==getvar("viewurl")?document.write('<script type="text/javascript" src="'+DhtmlXQimgpath+'DhtmlXQ_www_dpxq_com_save.js">\x3c/script>'):$("divs")?execLoad():setTimeout("execLoad()",10);
